[debug] [2024-07-21T06:58:02.629Z] ----------------------------------------------------------------------
[debug] [2024-07-21T06:58:02.638Z] Command:       /opt/homebrew/Cellar/node/22.3.0/bin/node /opt/homebrew/bin/firebase deploy --only functions
[debug] [2024-07-21T06:58:02.639Z] CLI Version:   13.13.3
[debug] [2024-07-21T06:58:02.639Z] Platform:      darwin
[debug] [2024-07-21T06:58:02.639Z] Node Version:  v22.3.0
[debug] [2024-07-21T06:58:02.639Z] Time:          Sun Jul 21 2024 13:58:02 GMT+0700 (Indochina Time)
[debug] [2024-07-21T06:58:02.640Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-07-21T06:58:02.697Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-07-21T06:58:02.697Z] > authorizing via signed-in user (pathonscript@gmail.com)
[debug] [2024-07-21T06:58:02.697Z] [iam] checking project dollarydoodle-17566 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2024-07-21T06:58:02.699Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/dollarydoodle-17566:testIamPermissions [none]
[debug] [2024-07-21T06:58:02.699Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/dollarydoodle-17566:testIamPermissions x-goog-quota-user=projects/dollarydoodle-17566
[debug] [2024-07-21T06:58:02.699Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/dollarydoodle-17566:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-07-21T06:58:04.105Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/dollarydoodle-17566:testIamPermissions 200
[debug] [2024-07-21T06:58:04.106Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/dollarydoodle-17566:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-07-21T06:58:04.108Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/dollarydoodle-17566/serviceAccounts/dollarydoodle-17566@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2024-07-21T06:58:04.109Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/dollarydoodle-17566/serviceAccounts/dollarydoodle-17566@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2024-07-21T06:58:05.607Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/dollarydoodle-17566/serviceAccounts/dollarydoodle-17566@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2024-07-21T06:58:05.607Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/dollarydoodle-17566/serviceAccounts/dollarydoodle-17566@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'dollarydoodle-17566'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run build
[info] ✔  functions: Finished running predeploy script. 
[debug] [2024-07-21T06:58:12.360Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/dollarydoodle-17566 [none]
[debug] [2024-07-21T06:58:14.209Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/dollarydoodle-17566 200
[debug] [2024-07-21T06:58:14.211Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/dollarydoodle-17566 {"projectId":"dollarydoodle-17566","projectNumber":"862779424947","displayName":"dollarydoodle","name":"projects/dollarydoodle-17566","resources":{"hostingSite":"dollarydoodle-17566"},"state":"ACTIVE","etag":"1_843cb4c5-68ab-43d5-9074-374d0c79ab17"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2024-07-21T06:58:14.261Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/cloudfunctions.googleapis.com [none]
[debug] [2024-07-21T06:58:14.265Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/dollarydoodle-17566
[debug] [2024-07-21T06:58:14.273Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/runtimeconfig.googleapis.com [none]
[debug] [2024-07-21T06:58:14.273Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/dollarydoodle-17566
[debug] [2024-07-21T06:58:14.275Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/cloudbuild.googleapis.com [none]
[debug] [2024-07-21T06:58:14.275Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/cloudbuild.googleapis.com x-goog-quota-user=projects/dollarydoodle-17566
[debug] [2024-07-21T06:58:14.281Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/artifactregistry.googleapis.com [none]
[debug] [2024-07-21T06:58:14.281Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/artifactregistry.googleapis.com x-goog-quota-user=projects/dollarydoodle-17566
[debug] [2024-07-21T06:58:17.434Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/runtimeconfig.googleapis.com 200
[debug] [2024-07-21T06:58:17.436Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/runtimeconfig.googleapis.com [omitted]
[debug] [2024-07-21T06:58:17.537Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/artifactregistry.googleapis.com 200
[debug] [2024-07-21T06:58:17.537Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/artifactregistry.googleapis.com [omitted]
[warn] ⚠  artifactregistry: missing required API artifactregistry.googleapis.com. Enabling now... 
[debug] [2024-07-21T06:58:17.539Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/artifactregistry.googleapis.com:enable [none]
[debug] [2024-07-21T06:58:17.539Z] >>> [apiv2][(partial)header] POST https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/artifactregistry.googleapis.com:enable x-goog-quota-user=projects/dollarydoodle-17566
[debug] [2024-07-21T06:58:17.704Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/cloudbuild.googleapis.com 200
[debug] [2024-07-21T06:58:17.707Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/cloudbuild.googleapis.com [omitted]
[warn] ⚠  functions: missing required API cloudbuild.googleapis.com. Enabling now... 
[debug] [2024-07-21T06:58:17.751Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/cloudbuild.googleapis.com:enable [none]
[debug] [2024-07-21T06:58:17.751Z] >>> [apiv2][(partial)header] POST https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/cloudbuild.googleapis.com:enable x-goog-quota-user=projects/dollarydoodle-17566
[debug] [2024-07-21T06:58:18.093Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/cloudfunctions.googleapis.com 200
[debug] [2024-07-21T06:58:18.093Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2024-07-21T06:58:18.241Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/artifactregistry.googleapis.com:enable 200
[debug] [2024-07-21T06:58:18.241Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/artifactregistry.googleapis.com:enable [omitted]
[debug] [2024-07-21T06:58:18.362Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/cloudbuild.googleapis.com:enable 200
[debug] [2024-07-21T06:58:18.362Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/cloudbuild.googleapis.com:enable [omitted]
[debug] [2024-07-21T06:58:28.260Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/artifactregistry.googleapis.com [none]
[debug] [2024-07-21T06:58:28.262Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/artifactregistry.googleapis.com x-goog-quota-user=projects/dollarydoodle-17566
[debug] [2024-07-21T06:58:28.369Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/cloudbuild.googleapis.com [none]
[debug] [2024-07-21T06:58:28.370Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/cloudbuild.googleapis.com x-goog-quota-user=projects/dollarydoodle-17566
[debug] [2024-07-21T06:58:29.918Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/artifactregistry.googleapis.com 200
[debug] [2024-07-21T06:58:29.919Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2024-07-21T06:58:29.980Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/cloudbuild.googleapis.com 200
[debug] [2024-07-21T06:58:29.980Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2024-07-21T06:58:29.983Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/dollarydoodle-17566/adminSdkConfig [none]
[debug] [2024-07-21T06:58:30.523Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/dollarydoodle-17566/adminSdkConfig 200
[debug] [2024-07-21T06:58:30.523Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/dollarydoodle-17566/adminSdkConfig {"projectId":"dollarydoodle-17566","storageBucket":"dollarydoodle-17566.appspot.com"}
[debug] [2024-07-21T06:58:30.525Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/dollarydoodle-17566/configs [none]
[debug] [2024-07-21T06:58:31.160Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/dollarydoodle-17566/configs 200
[debug] [2024-07-21T06:58:31.161Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/dollarydoodle-17566/configs {}
[debug] [2024-07-21T06:58:31.175Z] Validating nodejs source
[debug] [2024-07-21T06:58:32.884Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0"
  },
  "devDependencies": {
    "typescript": "^4.9.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-21T06:58:32.887Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2024-07-21T06:58:32.893Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-21T06:58:32.911Z] Found firebase-functions binary at '/Users/patato/Documents/dollaridoodle/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8756

[debug] [2024-07-21T06:58:33.989Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"helloWorld"},"stripeWebhook":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"stripeWebhook"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged /Users/patato/Documents/dollaridoodle/functions (72.54 KB) for uploading 
[debug] [2024-07-21T06:58:39.408Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/dollarydoodle-17566/locations/-/functions [none]
[debug] [2024-07-21T06:58:40.405Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/dollarydoodle-17566/locations/-/functions 200
[debug] [2024-07-21T06:58:40.406Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/dollarydoodle-17566/locations/-/functions {}
[debug] [2024-07-21T06:58:40.409Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2024-07-21T06:58:42.102Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/-/functions 200
[debug] [2024-07-21T06:58:42.103Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/-/functions {}
[info] i  functions: ensuring required API run.googleapis.com is enabled... 
[info] i  functions: ensuring required API eventarc.googleapis.com is enabled... 
[info] i  functions: ensuring required API pubsub.googleapis.com is enabled... 
[info] i  functions: ensuring required API storage.googleapis.com is enabled... 
[debug] [2024-07-21T06:58:42.107Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/run.googleapis.com [none]
[debug] [2024-07-21T06:58:42.107Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/run.googleapis.com x-goog-quota-user=projects/dollarydoodle-17566
[debug] [2024-07-21T06:58:42.109Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/eventarc.googleapis.com [none]
[debug] [2024-07-21T06:58:42.109Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/eventarc.googleapis.com x-goog-quota-user=projects/dollarydoodle-17566
[debug] [2024-07-21T06:58:42.110Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/pubsub.googleapis.com [none]
[debug] [2024-07-21T06:58:42.110Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/pubsub.googleapis.com x-goog-quota-user=projects/dollarydoodle-17566
[debug] [2024-07-21T06:58:42.111Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/storage.googleapis.com [none]
[debug] [2024-07-21T06:58:42.112Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/storage.googleapis.com x-goog-quota-user=projects/dollarydoodle-17566
[debug] [2024-07-21T06:58:43.695Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/eventarc.googleapis.com 200
[debug] [2024-07-21T06:58:43.696Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/eventarc.googleapis.com [omitted]
[warn] ⚠  functions: missing required API eventarc.googleapis.com. Enabling now... 
[debug] [2024-07-21T06:58:43.697Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/eventarc.googleapis.com:enable [none]
[debug] [2024-07-21T06:58:43.697Z] >>> [apiv2][(partial)header] POST https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/eventarc.googleapis.com:enable x-goog-quota-user=projects/dollarydoodle-17566
[debug] [2024-07-21T06:58:43.701Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/pubsub.googleapis.com 200
[debug] [2024-07-21T06:58:43.701Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/pubsub.googleapis.com [omitted]
[info] ✔  functions: required API pubsub.googleapis.com is enabled 
[debug] [2024-07-21T06:58:43.705Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/run.googleapis.com 200
[debug] [2024-07-21T06:58:43.706Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/run.googleapis.com [omitted]
[warn] ⚠  functions: missing required API run.googleapis.com. Enabling now... 
[debug] [2024-07-21T06:58:43.706Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/run.googleapis.com:enable [none]
[debug] [2024-07-21T06:58:43.706Z] >>> [apiv2][(partial)header] POST https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/run.googleapis.com:enable x-goog-quota-user=projects/dollarydoodle-17566
[debug] [2024-07-21T06:58:43.713Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/storage.googleapis.com 200
[debug] [2024-07-21T06:58:43.713Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/storage.googleapis.com [omitted]
[info] ✔  functions: required API storage.googleapis.com is enabled 
[debug] [2024-07-21T06:58:44.253Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/eventarc.googleapis.com:enable 200
[debug] [2024-07-21T06:58:44.254Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/eventarc.googleapis.com:enable [omitted]
[debug] [2024-07-21T06:58:44.264Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/run.googleapis.com:enable 200
[debug] [2024-07-21T06:58:44.264Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/run.googleapis.com:enable [omitted]
[debug] [2024-07-21T06:58:54.259Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/eventarc.googleapis.com [none]
[debug] [2024-07-21T06:58:54.264Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/eventarc.googleapis.com x-goog-quota-user=projects/dollarydoodle-17566
[debug] [2024-07-21T06:58:54.309Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/run.googleapis.com [none]
[debug] [2024-07-21T06:58:54.309Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/run.googleapis.com x-goog-quota-user=projects/dollarydoodle-17566
[debug] [2024-07-21T06:58:55.896Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/eventarc.googleapis.com 200
[debug] [2024-07-21T06:58:55.897Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/eventarc.googleapis.com [omitted]
[info] ✔  functions: required API eventarc.googleapis.com is enabled 
[debug] [2024-07-21T06:58:55.936Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/run.googleapis.com 200
[debug] [2024-07-21T06:58:55.936Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/run.googleapis.com [omitted]
[info] ✔  functions: required API run.googleapis.com is enabled 
[info] i  functions: generating the service identity for pubsub.googleapis.com... 
[info] i  functions: generating the service identity for eventarc.googleapis.com... 
[debug] [2024-07-21T06:58:55.937Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/862779424947/services/pubsub.googleapis.com:generateServiceIdentity [none]
[debug] [2024-07-21T06:58:55.937Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/862779424947/services/eventarc.googleapis.com:generateServiceIdentity [none]
[debug] [2024-07-21T06:58:56.710Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/862779424947/services/pubsub.googleapis.com:generateServiceIdentity 200
[debug] [2024-07-21T06:58:56.710Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/862779424947/services/pubsub.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-862779424947@gcp-sa-pubsub.iam.gserviceaccount.com","uniqueId":"113798306136961303310"}}
[debug] [2024-07-21T06:58:56.757Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/862779424947/services/eventarc.googleapis.com:generateServiceIdentity 200
[debug] [2024-07-21T06:58:56.757Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/862779424947/services/eventarc.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-862779424947@gcp-sa-eventarc.iam.gserviceaccount.com","uniqueId":"103053168025137469440"}}
[debug] [2024-07-21T06:58:56.762Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/dollarydoodle-17566 [none]
[debug] [2024-07-21T06:58:57.476Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/dollarydoodle-17566 200
[debug] [2024-07-21T06:58:57.476Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/dollarydoodle-17566 {"projectId":"dollarydoodle-17566","projectNumber":"862779424947","displayName":"dollarydoodle","name":"projects/dollarydoodle-17566","resources":{"hostingSite":"dollarydoodle-17566"},"state":"ACTIVE","etag":"1_843cb4c5-68ab-43d5-9074-374d0c79ab17"}
[debug] [2024-07-21T06:58:57.478Z] [functions] found 2 new HTTP functions, testing setIamPolicy permission...
[debug] [2024-07-21T06:58:57.479Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/dollarydoodle-17566:testIamPermissions [none]
[debug] [2024-07-21T06:58:57.479Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/dollarydoodle-17566:testIamPermissions x-goog-quota-user=projects/dollarydoodle-17566
[debug] [2024-07-21T06:58:57.479Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/dollarydoodle-17566:testIamPermissions {"permissions":["cloudfunctions.functions.setIamPolicy"]}
[debug] [2024-07-21T06:58:58.749Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/dollarydoodle-17566:testIamPermissions 200
[debug] [2024-07-21T06:58:58.749Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/dollarydoodle-17566:testIamPermissions {"permissions":["cloudfunctions.functions.setIamPolicy"]}
[debug] [2024-07-21T06:58:58.749Z] [functions] found setIamPolicy permission, proceeding with deploy
[debug] [2024-07-21T06:58:58.751Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2024-07-21T06:59:01.557Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/functions:generateUploadUrl 200
[debug] [2024-07-21T06:59:01.558Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/gcf-v2-uploads-862779424947-us-central1/21202515-6a97-42d4-8ac9-d3f274e67861.zip?GoogleAccessId=service-862779424947@gcf-admin-robot.iam.gserviceaccount.com&Expires=1721546941&Signature=q%2BJUIRmmbTWmJe3x3XsYwkkFIw1pdD2TnYOomoNdGB3TCcQvXlO%2BEQT1qa%2BdG5hF7sJ0ddkHMn4C1IbDKFaC%2F9fgej9aU1nM8XwsXnJBQocuWe0om38BdOu7%2BLDFs56W7ZaLzm%2BrjVQXEHCjHV4SrcXG1eX9%2B%2FbhowyXQf3Lp6MFuXO9CHAnq2Y7XWx6JQODJuBycwAWwexOgFvycLC3uqUCGwrVIYoP7KVhcsTtzyOCmZ%2FPi%2B4%2B5Y44QV0S1V%2BKrtIIvxNiENxb9OZdyW41omhj5T7f3h8kGZlPviOSieCfPi%2BeW0CpSQYC3I5rqlAAD4z%2BqpXUd7Lko2cHR5Yjog%3D%3D","storageSource":{"bucket":"gcf-v2-uploads-862779424947-us-central1","object":"21202515-6a97-42d4-8ac9-d3f274e67861.zip"}}
[debug] [2024-07-21T06:59:01.560Z] >>> [apiv2][query] PUT https://storage.googleapis.com/gcf-v2-uploads-862779424947-us-central1/21202515-6a97-42d4-8ac9-d3f274e67861.zip GoogleAccessId=service-862779424947%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1721546941&Signature=q%2BJUIRmmbTWmJe3x3XsYwkkFIw1pdD2TnYOomoNdGB3TCcQvXlO%2BEQT1qa%2BdG5hF7sJ0ddkHMn4C1IbDKFaC%2F9fgej9aU1nM8XwsXnJBQocuWe0om38BdOu7%2BLDFs56W7ZaLzm%2BrjVQXEHCjHV4SrcXG1eX9%2B%2FbhowyXQf3Lp6MFuXO9CHAnq2Y7XWx6JQODJuBycwAWwexOgFvycLC3uqUCGwrVIYoP7KVhcsTtzyOCmZ%2FPi%2B4%2B5Y44QV0S1V%2BKrtIIvxNiENxb9OZdyW41omhj5T7f3h8kGZlPviOSieCfPi%2BeW0CpSQYC3I5rqlAAD4z%2BqpXUd7Lko2cHR5Yjog%3D%3D
[debug] [2024-07-21T06:59:01.560Z] >>> [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-862779424947-us-central1/21202515-6a97-42d4-8ac9-d3f274e67861.zip [stream]
[debug] [2024-07-21T06:59:02.780Z] <<< [apiv2][status] PUT https://storage.googleapis.com/gcf-v2-uploads-862779424947-us-central1/21202515-6a97-42d4-8ac9-d3f274e67861.zip 200
[debug] [2024-07-21T06:59:02.781Z] <<< [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-862779424947-us-central1/21202515-6a97-42d4-8ac9-d3f274e67861.zip [omitted]
[info] ✔  functions: functions folder uploaded successfully 
[info] i  functions: creating Node.js 18 (2nd Gen) function helloWorld(us-central1)... 
[info] i  functions: creating Node.js 18 (2nd Gen) function stripeWebhook(us-central1)... 
[debug] [2024-07-21T06:59:02.803Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/functions functionId=helloWorld
[debug] [2024-07-21T06:59:02.803Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/functions {"name":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs18","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-uploads-862779424947-us-central1","object":"21202515-6a97-42d4-8ac9-d3f274e67861.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"03883012075a8fcfcbcf783008b548bfef1b474b"}}
[debug] [2024-07-21T06:59:05.399Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/functions 200
[debug] [2024-07-21T06:59:05.400Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/functions {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721545144128-61dbc76c7d4b5-c06e9e13-8eb5c48a","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T06:59:05.172419243Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","verb":"create","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2024-07-21T06:59:05.401Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721545144128-61dbc76c7d4b5-c06e9e13-8eb5c48a [none]
[debug] [2024-07-21T06:59:06.788Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721545144128-61dbc76c7d4b5-c06e9e13-8eb5c48a 200
[debug] [2024-07-21T06:59:06.808Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721545144128-61dbc76c7d4b5-c06e9e13-8eb5c48a {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721545144128-61dbc76c7d4b5-c06e9e13-8eb5c48a","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T06:59:05.172419243Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs18","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"helloWorld/function-source.zip","generation":"1721545144915018"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/dollarydoodle-17566/locations/us-central1/services/helloworld","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"862779424947-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"03883012075a8fcfcbcf783008b548bfef1b474b"},"environment":"GEN_2"},"stages":[{"name":"BUILD","state":"NOT_STARTED"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION"},"done":false}
[debug] [2024-07-21T06:59:07.318Z] [create-default-us-central1-helloWorld] Retrying task index 0
[debug] [2024-07-21T06:59:07.324Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721545144128-61dbc76c7d4b5-c06e9e13-8eb5c48a [none]
[debug] [2024-07-21T06:59:08.731Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721545144128-61dbc76c7d4b5-c06e9e13-8eb5c48a 200
[debug] [2024-07-21T06:59:08.732Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721545144128-61dbc76c7d4b5-c06e9e13-8eb5c48a {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721545144128-61dbc76c7d4b5-c06e9e13-8eb5c48a","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T06:59:05.172419243Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs18","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"helloWorld/function-source.zip","generation":"1721545144915018"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/dollarydoodle-17566/locations/us-central1/services/helloworld","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"862779424947-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"03883012075a8fcfcbcf783008b548bfef1b474b"},"environment":"GEN_2"},"stages":[{"name":"BUILD","state":"NOT_STARTED"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION"},"done":false}
[debug] [2024-07-21T06:59:09.734Z] [create-default-us-central1-helloWorld] Retrying task index 0
[debug] [2024-07-21T06:59:09.734Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721545144128-61dbc76c7d4b5-c06e9e13-8eb5c48a [none]
[debug] [2024-07-21T06:59:11.085Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721545144128-61dbc76c7d4b5-c06e9e13-8eb5c48a 200
[debug] [2024-07-21T06:59:11.085Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721545144128-61dbc76c7d4b5-c06e9e13-8eb5c48a {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721545144128-61dbc76c7d4b5-c06e9e13-8eb5c48a","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T06:59:05.172419243Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs18","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"helloWorld/function-source.zip","generation":"1721545144915018"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/dollarydoodle-17566/locations/us-central1/services/helloworld","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"862779424947-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"03883012075a8fcfcbcf783008b548bfef1b474b"},"environment":"GEN_2"},"stages":[{"name":"BUILD","state":"NOT_STARTED"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION"},"done":false}
[debug] [2024-07-21T06:59:13.087Z] [create-default-us-central1-helloWorld] Retrying task index 0
[debug] [2024-07-21T06:59:13.088Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721545144128-61dbc76c7d4b5-c06e9e13-8eb5c48a [none]
[debug] [2024-07-21T06:59:14.474Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721545144128-61dbc76c7d4b5-c06e9e13-8eb5c48a 200
[debug] [2024-07-21T06:59:14.476Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721545144128-61dbc76c7d4b5-c06e9e13-8eb5c48a {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721545144128-61dbc76c7d4b5-c06e9e13-8eb5c48a","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T06:59:05.172419243Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs18","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"helloWorld/function-source.zip","generation":"1721545144915018"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/dollarydoodle-17566/locations/us-central1/services/helloworld","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"862779424947-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"03883012075a8fcfcbcf783008b548bfef1b474b"},"environment":"GEN_2"},"stages":[{"name":"BUILD","state":"NOT_STARTED"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION"},"done":false}
[debug] [2024-07-21T06:59:18.478Z] [create-default-us-central1-helloWorld] Retrying task index 0
[debug] [2024-07-21T06:59:18.486Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721545144128-61dbc76c7d4b5-c06e9e13-8eb5c48a [none]
[debug] [2024-07-21T06:59:19.856Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721545144128-61dbc76c7d4b5-c06e9e13-8eb5c48a 200
[debug] [2024-07-21T06:59:19.856Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721545144128-61dbc76c7d4b5-c06e9e13-8eb5c48a {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721545144128-61dbc76c7d4b5-c06e9e13-8eb5c48a","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T06:59:05.172419243Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs18","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"helloWorld/function-source.zip","generation":"1721545144915018"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/dollarydoodle-17566/locations/us-central1/services/helloworld","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"862779424947-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"03883012075a8fcfcbcf783008b548bfef1b474b"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/862779424947/locations/us-central1/builds/02f146c3-f5af-495d-933c-0017dd3de065","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/02f146c3-f5af-495d-933c-0017dd3de065?project=862779424947"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION"},"done":false}
[debug] [2024-07-21T06:59:27.860Z] [create-default-us-central1-helloWorld] Retrying task index 0
[debug] [2024-07-21T06:59:27.864Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721545144128-61dbc76c7d4b5-c06e9e13-8eb5c48a [none]
[debug] [2024-07-21T06:59:29.460Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721545144128-61dbc76c7d4b5-c06e9e13-8eb5c48a 200
[debug] [2024-07-21T06:59:29.461Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721545144128-61dbc76c7d4b5-c06e9e13-8eb5c48a {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721545144128-61dbc76c7d4b5-c06e9e13-8eb5c48a","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T06:59:05.172419243Z","endTime":"2024-07-21T06:59:27.972323994Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs18","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"helloWorld/function-source.zip","generation":"1721545144915018"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/dollarydoodle-17566/locations/us-central1/services/helloworld","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"862779424947-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"03883012075a8fcfcbcf783008b548bfef1b474b"},"environment":"GEN_2"},"stages":[{"name":"ARTIFACT_REGISTRY","message":"Deleting function artifacts in Artifact Registry","state":"COMPLETE"},{"name":"SERVICE","message":"Deleting Cloud Run service","state":"COMPLETE","resource":"projects/dollarydoodle-17566/locations/us-central1/services/helloworld"}],"operationType":"CREATE_FUNCTION"},"done":true,"error":{"code":13,"message":"Build failed with status: INTERNAL_ERROR and message: An unexpected error occurred. Refer to build logs: https://console.cloud.google.com/cloud-build/builds;region=us-central1/02f146c3-f5af-495d-933c-0017dd3de065?project=862779424947. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/02f146c3-f5af-495d-933c-0017dd3de065?project=862779424947."}}
[debug] [2024-07-21T06:59:29.461Z] Got source token undefined for region us-central1
[debug] [2024-07-21T06:59:29.461Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/functions functionId=stripeWebhook
[debug] [2024-07-21T06:59:29.462Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/functions {"name":"projects/dollarydoodle-17566/locations/us-central1/functions/stripeWebhook","buildConfig":{"runtime":"nodejs18","entryPoint":"stripeWebhook","source":{"storageSource":{"bucket":"gcf-v2-uploads-862779424947-us-central1","object":"21202515-6a97-42d4-8ac9-d3f274e67861.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/stripeWebhook","FUNCTION_TARGET":"stripeWebhook"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"03883012075a8fcfcbcf783008b548bfef1b474b"}}
[error] Build failed with status: INTERNAL_ERROR and message: An unexpected error occurred. Refer to build logs: https://console.cloud.google.com/cloud-build/builds;region=us-central1/02f146c3-f5af-495d-933c-0017dd3de065?project=862779424947. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/02f146c3-f5af-495d-933c-0017dd3de065?project=862779424947.
[debug] [2024-07-21T06:59:31.413Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/functions 200
[debug] [2024-07-21T06:59:31.414Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/functions {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721545170740-61dbc785de516-bf125777-469bd45b","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T06:59:31.256513121Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/stripeWebhook","verb":"create","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2024-07-21T06:59:31.414Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721545170740-61dbc785de516-bf125777-469bd45b [none]
[debug] [2024-07-21T06:59:32.793Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721545170740-61dbc785de516-bf125777-469bd45b 200
[debug] [2024-07-21T06:59:32.794Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721545170740-61dbc785de516-bf125777-469bd45b {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721545170740-61dbc785de516-bf125777-469bd45b","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T06:59:31.256513121Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/stripeWebhook","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/dollarydoodle-17566/locations/us-central1/functions/stripeWebhook","buildConfig":{"runtime":"nodejs18","entryPoint":"stripeWebhook","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"stripeWebhook/function-source.zip","generation":"1721545170954022"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/dollarydoodle-17566/locations/us-central1/services/stripewebhook","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/stripeWebhook","FUNCTION_TARGET":"stripeWebhook","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"862779424947-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"03883012075a8fcfcbcf783008b548bfef1b474b"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/862779424947/locations/us-central1/builds/e982922e-a8c6-42ad-9770-4ecd0e32acd2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/e982922e-a8c6-42ad-9770-4ecd0e32acd2?project=862779424947"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION"},"done":false}
[debug] [2024-07-21T06:59:33.296Z] [create-default-us-central1-stripeWebhook] Retrying task index 0
[debug] [2024-07-21T06:59:33.297Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721545170740-61dbc785de516-bf125777-469bd45b [none]
[debug] [2024-07-21T06:59:34.810Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721545170740-61dbc785de516-bf125777-469bd45b 200
[debug] [2024-07-21T06:59:34.810Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721545170740-61dbc785de516-bf125777-469bd45b {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721545170740-61dbc785de516-bf125777-469bd45b","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T06:59:31.256513121Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/stripeWebhook","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/dollarydoodle-17566/locations/us-central1/functions/stripeWebhook","buildConfig":{"runtime":"nodejs18","entryPoint":"stripeWebhook","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"stripeWebhook/function-source.zip","generation":"1721545170954022"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/dollarydoodle-17566/locations/us-central1/services/stripewebhook","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/stripeWebhook","FUNCTION_TARGET":"stripeWebhook","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"862779424947-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"03883012075a8fcfcbcf783008b548bfef1b474b"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/862779424947/locations/us-central1/builds/e982922e-a8c6-42ad-9770-4ecd0e32acd2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/e982922e-a8c6-42ad-9770-4ecd0e32acd2?project=862779424947"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION"},"done":false}
[debug] [2024-07-21T06:59:35.812Z] [create-default-us-central1-stripeWebhook] Retrying task index 0
[debug] [2024-07-21T06:59:35.815Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721545170740-61dbc785de516-bf125777-469bd45b [none]
[debug] [2024-07-21T06:59:37.191Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721545170740-61dbc785de516-bf125777-469bd45b 200
[debug] [2024-07-21T06:59:37.191Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721545170740-61dbc785de516-bf125777-469bd45b {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721545170740-61dbc785de516-bf125777-469bd45b","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T06:59:31.256513121Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/stripeWebhook","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/dollarydoodle-17566/locations/us-central1/functions/stripeWebhook","buildConfig":{"runtime":"nodejs18","entryPoint":"stripeWebhook","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"stripeWebhook/function-source.zip","generation":"1721545170954022"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/dollarydoodle-17566/locations/us-central1/services/stripewebhook","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/stripeWebhook","FUNCTION_TARGET":"stripeWebhook","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"862779424947-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"03883012075a8fcfcbcf783008b548bfef1b474b"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/862779424947/locations/us-central1/builds/e982922e-a8c6-42ad-9770-4ecd0e32acd2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/e982922e-a8c6-42ad-9770-4ecd0e32acd2?project=862779424947"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION"},"done":false}
[debug] [2024-07-21T06:59:39.193Z] [create-default-us-central1-stripeWebhook] Retrying task index 0
[debug] [2024-07-21T06:59:39.193Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721545170740-61dbc785de516-bf125777-469bd45b [none]
[debug] [2024-07-21T06:59:40.558Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721545170740-61dbc785de516-bf125777-469bd45b 200
[debug] [2024-07-21T06:59:40.559Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721545170740-61dbc785de516-bf125777-469bd45b {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721545170740-61dbc785de516-bf125777-469bd45b","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T06:59:31.256513121Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/stripeWebhook","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/dollarydoodle-17566/locations/us-central1/functions/stripeWebhook","buildConfig":{"runtime":"nodejs18","entryPoint":"stripeWebhook","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"stripeWebhook/function-source.zip","generation":"1721545170954022"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/dollarydoodle-17566/locations/us-central1/services/stripewebhook","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/stripeWebhook","FUNCTION_TARGET":"stripeWebhook","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"862779424947-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"03883012075a8fcfcbcf783008b548bfef1b474b"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/862779424947/locations/us-central1/builds/e982922e-a8c6-42ad-9770-4ecd0e32acd2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/e982922e-a8c6-42ad-9770-4ecd0e32acd2?project=862779424947"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION"},"done":false}
[debug] [2024-07-21T06:59:44.560Z] [create-default-us-central1-stripeWebhook] Retrying task index 0
[debug] [2024-07-21T06:59:44.564Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721545170740-61dbc785de516-bf125777-469bd45b [none]
[debug] [2024-07-21T06:59:45.948Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721545170740-61dbc785de516-bf125777-469bd45b 200
[debug] [2024-07-21T06:59:45.948Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721545170740-61dbc785de516-bf125777-469bd45b {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721545170740-61dbc785de516-bf125777-469bd45b","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T06:59:31.256513121Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/stripeWebhook","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/dollarydoodle-17566/locations/us-central1/functions/stripeWebhook","buildConfig":{"runtime":"nodejs18","entryPoint":"stripeWebhook","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"stripeWebhook/function-source.zip","generation":"1721545170954022"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/dollarydoodle-17566/locations/us-central1/services/stripewebhook","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/stripeWebhook","FUNCTION_TARGET":"stripeWebhook","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"862779424947-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"03883012075a8fcfcbcf783008b548bfef1b474b"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/862779424947/locations/us-central1/builds/e982922e-a8c6-42ad-9770-4ecd0e32acd2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/e982922e-a8c6-42ad-9770-4ecd0e32acd2?project=862779424947"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION"},"done":false}
[debug] [2024-07-21T06:59:53.950Z] [create-default-us-central1-stripeWebhook] Retrying task index 0
[debug] [2024-07-21T06:59:53.954Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721545170740-61dbc785de516-bf125777-469bd45b [none]
[debug] [2024-07-21T06:59:55.534Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721545170740-61dbc785de516-bf125777-469bd45b 200
[debug] [2024-07-21T06:59:55.537Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721545170740-61dbc785de516-bf125777-469bd45b {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721545170740-61dbc785de516-bf125777-469bd45b","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T06:59:31.256513121Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/stripeWebhook","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/dollarydoodle-17566/locations/us-central1/functions/stripeWebhook","buildConfig":{"runtime":"nodejs18","entryPoint":"stripeWebhook","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"stripeWebhook/function-source.zip","generation":"1721545170954022"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/dollarydoodle-17566/locations/us-central1/services/stripewebhook","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/stripeWebhook","FUNCTION_TARGET":"stripeWebhook","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"862779424947-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"03883012075a8fcfcbcf783008b548bfef1b474b"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/862779424947/locations/us-central1/builds/e982922e-a8c6-42ad-9770-4ecd0e32acd2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/e982922e-a8c6-42ad-9770-4ecd0e32acd2?project=862779424947"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION"},"done":false}
[debug] [2024-07-21T07:00:05.540Z] [create-default-us-central1-stripeWebhook] Retrying task index 0
[debug] [2024-07-21T07:00:05.544Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721545170740-61dbc785de516-bf125777-469bd45b [none]
[debug] [2024-07-21T07:00:07.095Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721545170740-61dbc785de516-bf125777-469bd45b 200
[debug] [2024-07-21T07:00:07.095Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721545170740-61dbc785de516-bf125777-469bd45b {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721545170740-61dbc785de516-bf125777-469bd45b","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T06:59:31.256513121Z","endTime":"2024-07-21T07:00:00.482689715Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/stripeWebhook","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/dollarydoodle-17566/locations/us-central1/functions/stripeWebhook","buildConfig":{"runtime":"nodejs18","entryPoint":"stripeWebhook","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"stripeWebhook/function-source.zip","generation":"1721545170954022"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/dollarydoodle-17566/locations/us-central1/services/stripewebhook","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/stripeWebhook","FUNCTION_TARGET":"stripeWebhook","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"862779424947-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"03883012075a8fcfcbcf783008b548bfef1b474b"},"environment":"GEN_2"},"stages":[{"name":"ARTIFACT_REGISTRY","message":"Deleting function artifacts in Artifact Registry","state":"COMPLETE"},{"name":"SERVICE","message":"Deleting Cloud Run service","state":"COMPLETE","resource":"projects/dollarydoodle-17566/locations/us-central1/services/stripewebhook"}],"operationType":"CREATE_FUNCTION"},"done":true,"error":{"code":3,"message":"Build failed with status: FAILURE and message: installing pnpm dependencies: (error ID: 8622936f):\nERR_PNPM_OUTDATED_LOCKFILE  Cannot install with \"frozen-lockfile\" because pnpm-lock.yaml is not up to date with package.json\n\nNote that in CI environments this setting is true by default. If you still need to run install in such cases, use \"pnpm install --no-frozen-lockfile\"\n\n    Failure reason:\n    specifiers in the lockfile ({\"firebase-admin\":\"^12.1.0\",\"firebase-functions\":\"^5.0.0\",\"@typescript-eslint/eslint-plugin\":\"^5.12.0\",\"@typescript-eslint/parser\":\"^5.12.0\",\"eslint\":\"^8.9.0\",\"eslint-config-google\":\"^0.14.0\",\"eslint-plugin-import\":\"^2.25.4\",\"firebase-functions-test\":\"^3.1.0\",\"typescript\":\"^4.9.0\"}) don't match specs in package.json ({\"typescript\":\"^4.9.0\",\"firebase-functions-test\":\"^3.1.0\",\"firebase-admin\":\"^12.1.0\",\"firebase-functions\":\"^5.0.0\"}). For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/e982922e-a8c6-42ad-9770-4ecd0e32acd2?project=862779424947."}}
[debug] [2024-07-21T07:00:07.096Z] Got source token undefined for region us-central1
[error] Build failed with status: FAILURE and message: installing pnpm dependencies: (error ID: 8622936f):
ERR_PNPM_OUTDATED_LOCKFILE  Cannot install with "frozen-lockfile" because pnpm-lock.yaml is not up to date with package.json

Note that in CI environments this setting is true by default. If you still need to run install in such cases, use "pnpm install --no-frozen-lockfile"

    Failure reason:
    specifiers in the lockfile ({"firebase-admin":"^12.1.0","firebase-functions":"^5.0.0","@typescript-eslint/eslint-plugin":"^5.12.0","@typescript-eslint/parser":"^5.12.0","eslint":"^8.9.0","eslint-config-google":"^0.14.0","eslint-plugin-import":"^2.25.4","firebase-functions-test":"^3.1.0","typescript":"^4.9.0"}) don't match specs in package.json ({"typescript":"^4.9.0","firebase-functions-test":"^3.1.0","firebase-admin":"^12.1.0","firebase-functions":"^5.0.0"}). For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/e982922e-a8c6-42ad-9770-4ecd0e32acd2?project=862779424947.
[debug] [2024-07-21T07:00:07.140Z] Total Function Deployment time: 64310
[debug] [2024-07-21T07:00:07.140Z] 2 Functions Deployed
[debug] [2024-07-21T07:00:07.140Z] 2 Functions Errored
[debug] [2024-07-21T07:00:07.140Z] 0 Function Deployments Aborted
[debug] [2024-07-21T07:00:07.140Z] Average Function Deployment time: 45484.5
[info] 
[info] Functions deploy had errors with the following functions:
	helloWorld(us-central1)
	stripeWebhook(us-central1)
[debug] [2024-07-21T07:00:07.145Z] Not printing URL for HTTPS function. Typically this means it didn't match a filter or we failed deployment
[debug] [2024-07-21T07:00:07.145Z] Not printing URL for HTTPS function. Typically this means it didn't match a filter or we failed deployment
[info] i  functions: cleaning up build files... 
[debug] [2024-07-21T07:00:07.157Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts/packages/hello_world [none]
[debug] [2024-07-21T07:00:07.161Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts/packages/stripe_webhook [none]
[debug] [2024-07-21T07:00:07.162Z] >>> [apiv2][query] GET https://us.gcr.io/v2/dollarydoodle-17566/gcf/us-central1/tags/list [none]
[debug] [2024-07-21T07:00:08.353Z] <<< [apiv2][status] GET https://us.gcr.io/v2/dollarydoodle-17566/gcf/us-central1/tags/list 404
[debug] [2024-07-21T07:00:08.355Z] <<< [apiv2][body] GET https://us.gcr.io/v2/dollarydoodle-17566/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-07-21T07:00:08.381Z] Failed docker command with error  HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"HTTP Error: 404, Not Found","status":404}
[debug] [2024-07-21T07:00:08.407Z] >>> [apiv2][query] GET https://us.gcr.io/v2/dollarydoodle-17566/gcf/us-central1/tags/list [none]
[debug] [2024-07-21T07:00:08.727Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts/packages/hello_world 404
[debug] [2024-07-21T07:00:08.727Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts/packages/hello_world {"error":{"code":404,"message":"Package \"projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts/packages/hello_world\" was not found.","status":"NOT_FOUND"}}
[debug] [2024-07-21T07:00:08.748Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts/packages/stripe_webhook 404
[debug] [2024-07-21T07:00:08.748Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts/packages/stripe_webhook {"error":{"code":404,"message":"Package \"projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts/packages/stripe_webhook\" was not found.","status":"NOT_FOUND"}}
[debug] [2024-07-21T07:00:08.793Z] <<< [apiv2][status] GET https://us.gcr.io/v2/dollarydoodle-17566/gcf/us-central1/tags/list 404
[debug] [2024-07-21T07:00:08.793Z] <<< [apiv2][body] GET https://us.gcr.io/v2/dollarydoodle-17566/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-07-21T07:00:08.794Z] Failed docker command with error  HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"HTTP Error: 404, Not Found","status":404}
[debug] [2024-07-21T07:00:08.894Z] >>> [apiv2][query] GET https://us.gcr.io/v2/dollarydoodle-17566/gcf/us-central1/tags/list [none]
[debug] [2024-07-21T07:00:09.289Z] <<< [apiv2][status] GET https://us.gcr.io/v2/dollarydoodle-17566/gcf/us-central1/tags/list 404
[debug] [2024-07-21T07:00:09.290Z] <<< [apiv2][body] GET https://us.gcr.io/v2/dollarydoodle-17566/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-07-21T07:00:09.290Z] Failed docker command with error  HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"HTTP Error: 404, Not Found","status":404}
[warn] ⚠  functions: Unhandled error cleaning up build images. This could result in a small monthly bill if not corrected. You can attempt to delete these images by redeploying or you can delete them manually at https://console.cloud.google.com/gcr/images/dollarydoodle-17566/us/gcf 
[debug] [2024-07-21T07:00:09.291Z] Functions deploy failed.
[debug] [2024-07-21T07:00:09.291Z] {
  "endpoint": {
    "id": "helloWorld",
    "project": "dollarydoodle-17566",
    "region": "us-central1",
    "entryPoint": "helloWorld",
    "platform": "gcfv2",
    "runtime": "nodejs18",
    "httpsTrigger": {},
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "ingressSettings": null,
    "availableMemoryMb": null,
    "serviceAccount": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "concurrency": 80,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}",
      "GCLOUD_PROJECT": "dollarydoodle-17566",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/dollarydoodle-17566/locations/us-central1/services/helloWorld"
    },
    "codebase": "default",
    "cpu": 1,
    "targetedByOnly": false,
    "hash": "03883012075a8fcfcbcf783008b548bfef1b474b"
  },
  "op": "create",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Build failed with status: INTERNAL_ERROR and message: An unexpected error occurred. Refer to build logs: https://console.cloud.google.com/cloud-build/builds;region=us-central1/02f146c3-f5af-495d-933c-0017dd3de065?project=862779424947. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/02f146c3-f5af-495d-933c-0017dd3de065?project=862779424947.",
    "original": {
      "code": 13,
      "message": "Build failed with status: INTERNAL_ERROR and message: An unexpected error occurred. Refer to build logs: https://console.cloud.google.com/cloud-build/builds;region=us-central1/02f146c3-f5af-495d-933c-0017dd3de065?project=862779424947. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/02f146c3-f5af-495d-933c-0017dd3de065?project=862779424947."
    },
    "status": 13,
    "code": 13
  }
}
[debug] [2024-07-21T07:00:09.291Z] {
  "endpoint": {
    "id": "stripeWebhook",
    "project": "dollarydoodle-17566",
    "region": "us-central1",
    "entryPoint": "stripeWebhook",
    "platform": "gcfv2",
    "runtime": "nodejs18",
    "httpsTrigger": {},
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "ingressSettings": null,
    "availableMemoryMb": null,
    "serviceAccount": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "concurrency": 80,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}",
      "GCLOUD_PROJECT": "dollarydoodle-17566",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/dollarydoodle-17566/locations/us-central1/services/stripeWebhook"
    },
    "codebase": "default",
    "cpu": 1,
    "targetedByOnly": false,
    "hash": "03883012075a8fcfcbcf783008b548bfef1b474b"
  },
  "op": "create",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Build failed with status: FAILURE and message: installing pnpm dependencies: (error ID: 8622936f):\nERR_PNPM_OUTDATED_LOCKFILE  Cannot install with \"frozen-lockfile\" because pnpm-lock.yaml is not up to date with package.json\n\nNote that in CI environments this setting is true by default. If you still need to run install in such cases, use \"pnpm install --no-frozen-lockfile\"\n\n    Failure reason:\n    specifiers in the lockfile ({\"firebase-admin\":\"^12.1.0\",\"firebase-functions\":\"^5.0.0\",\"@typescript-eslint/eslint-plugin\":\"^5.12.0\",\"@typescript-eslint/parser\":\"^5.12.0\",\"eslint\":\"^8.9.0\",\"eslint-config-google\":\"^0.14.0\",\"eslint-plugin-import\":\"^2.25.4\",\"firebase-functions-test\":\"^3.1.0\",\"typescript\":\"^4.9.0\"}) don't match specs in package.json ({\"typescript\":\"^4.9.0\",\"firebase-functions-test\":\"^3.1.0\",\"firebase-admin\":\"^12.1.0\",\"firebase-functions\":\"^5.0.0\"}). For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/e982922e-a8c6-42ad-9770-4ecd0e32acd2?project=862779424947.",
    "original": {
      "code": 3,
      "message": "Build failed with status: FAILURE and message: installing pnpm dependencies: (error ID: 8622936f):\nERR_PNPM_OUTDATED_LOCKFILE  Cannot install with \"frozen-lockfile\" because pnpm-lock.yaml is not up to date with package.json\n\nNote that in CI environments this setting is true by default. If you still need to run install in such cases, use \"pnpm install --no-frozen-lockfile\"\n\n    Failure reason:\n    specifiers in the lockfile ({\"firebase-admin\":\"^12.1.0\",\"firebase-functions\":\"^5.0.0\",\"@typescript-eslint/eslint-plugin\":\"^5.12.0\",\"@typescript-eslint/parser\":\"^5.12.0\",\"eslint\":\"^8.9.0\",\"eslint-config-google\":\"^0.14.0\",\"eslint-plugin-import\":\"^2.25.4\",\"firebase-functions-test\":\"^3.1.0\",\"typescript\":\"^4.9.0\"}) don't match specs in package.json ({\"typescript\":\"^4.9.0\",\"firebase-functions-test\":\"^3.1.0\",\"firebase-admin\":\"^12.1.0\",\"firebase-functions\":\"^5.0.0\"}). For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/e982922e-a8c6-42ad-9770-4ecd0e32acd2?project=862779424947."
    },
    "status": 3,
    "code": 3
  }
}
[error] Error: There was an error deploying functions:
[error] - Error Failed to create function helloWorld in region us-central1
[error] - Error Failed to create function stripeWebhook in region us-central1
[debug] [2024-07-21T10:24:37.091Z] ----------------------------------------------------------------------
[debug] [2024-07-21T10:24:37.105Z] Command:       /opt/homebrew/Cellar/node/22.3.0/bin/node /opt/homebrew/bin/firebase deploy --only functions
[debug] [2024-07-21T10:24:37.107Z] CLI Version:   13.13.3
[debug] [2024-07-21T10:24:37.107Z] Platform:      darwin
[debug] [2024-07-21T10:24:37.107Z] Node Version:  v22.3.0
[debug] [2024-07-21T10:24:37.108Z] Time:          Sun Jul 21 2024 17:24:37 GMT+0700 (Indochina Time)
[debug] [2024-07-21T10:24:37.109Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-07-21T10:24:37.160Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-07-21T10:24:37.160Z] > authorizing via signed-in user (pathonscript@gmail.com)
[debug] [2024-07-21T10:24:37.161Z] [iam] checking project dollarydoodle-17566 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2024-07-21T10:24:37.161Z] > refreshing access token with scopes: []
[debug] [2024-07-21T10:24:37.163Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2024-07-21T10:24:37.163Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2024-07-21T10:24:37.409Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 200
[debug] [2024-07-21T10:24:37.409Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2024-07-21T10:24:37.428Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/dollarydoodle-17566:testIamPermissions [none]
[debug] [2024-07-21T10:24:37.428Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/dollarydoodle-17566:testIamPermissions x-goog-quota-user=projects/dollarydoodle-17566
[debug] [2024-07-21T10:24:37.428Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/dollarydoodle-17566:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-07-21T10:24:38.629Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/dollarydoodle-17566:testIamPermissions 200
[debug] [2024-07-21T10:24:38.629Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/dollarydoodle-17566:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-07-21T10:24:38.630Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/dollarydoodle-17566/serviceAccounts/dollarydoodle-17566@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2024-07-21T10:24:38.630Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/dollarydoodle-17566/serviceAccounts/dollarydoodle-17566@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2024-07-21T10:24:40.070Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/dollarydoodle-17566/serviceAccounts/dollarydoodle-17566@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2024-07-21T10:24:40.070Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/dollarydoodle-17566/serviceAccounts/dollarydoodle-17566@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'dollarydoodle-17566'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run build
[info] ✔  functions: Finished running predeploy script. 
[debug] [2024-07-21T10:24:46.750Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/dollarydoodle-17566 [none]
[debug] [2024-07-21T10:24:47.279Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/dollarydoodle-17566 200
[debug] [2024-07-21T10:24:47.280Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/dollarydoodle-17566 {"projectId":"dollarydoodle-17566","projectNumber":"862779424947","displayName":"dollarydoodle","name":"projects/dollarydoodle-17566","resources":{"hostingSite":"dollarydoodle-17566"},"state":"ACTIVE","etag":"1_843cb4c5-68ab-43d5-9074-374d0c79ab17"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2024-07-21T10:24:47.281Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/cloudfunctions.googleapis.com [none]
[debug] [2024-07-21T10:24:47.281Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/dollarydoodle-17566
[debug] [2024-07-21T10:24:47.282Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/runtimeconfig.googleapis.com [none]
[debug] [2024-07-21T10:24:47.282Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/dollarydoodle-17566
[debug] [2024-07-21T10:24:47.283Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/cloudbuild.googleapis.com [none]
[debug] [2024-07-21T10:24:47.283Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/cloudbuild.googleapis.com x-goog-quota-user=projects/dollarydoodle-17566
[debug] [2024-07-21T10:24:47.284Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/artifactregistry.googleapis.com [none]
[debug] [2024-07-21T10:24:47.284Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/artifactregistry.googleapis.com x-goog-quota-user=projects/dollarydoodle-17566
[debug] [2024-07-21T10:24:48.782Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/runtimeconfig.googleapis.com 200
[debug] [2024-07-21T10:24:48.783Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/runtimeconfig.googleapis.com [omitted]
[debug] [2024-07-21T10:24:48.789Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/cloudbuild.googleapis.com 200
[debug] [2024-07-21T10:24:48.790Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2024-07-21T10:24:48.806Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/cloudfunctions.googleapis.com 200
[debug] [2024-07-21T10:24:48.808Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2024-07-21T10:24:48.810Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/artifactregistry.googleapis.com 200
[debug] [2024-07-21T10:24:48.810Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2024-07-21T10:24:48.811Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/dollarydoodle-17566/adminSdkConfig [none]
[debug] [2024-07-21T10:24:49.341Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/dollarydoodle-17566/adminSdkConfig 200
[debug] [2024-07-21T10:24:49.341Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/dollarydoodle-17566/adminSdkConfig {"projectId":"dollarydoodle-17566","storageBucket":"dollarydoodle-17566.appspot.com"}
[debug] [2024-07-21T10:24:49.342Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/dollarydoodle-17566/configs [none]
[debug] [2024-07-21T10:24:49.827Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/dollarydoodle-17566/configs 200
[debug] [2024-07-21T10:24:49.827Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/dollarydoodle-17566/configs {}
[debug] [2024-07-21T10:24:49.830Z] Validating nodejs source
[debug] [2024-07-21T10:24:50.682Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0"
  },
  "devDependencies": {
    "typescript": "^4.9.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-21T10:24:50.683Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2024-07-21T10:24:50.685Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-21T10:24:50.693Z] Found firebase-functions binary at '/Users/patato/Documents/dollaridoodle/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8262

[debug] [2024-07-21T10:24:51.968Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"helloWorld"},"handleStripeWebhook":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"handleStripeWebhook"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged /Users/patato/Documents/dollaridoodle/functions (73.73 KB) for uploading 
[debug] [2024-07-21T10:24:57.062Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/dollarydoodle-17566/locations/-/functions [none]
[debug] [2024-07-21T10:24:57.936Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/dollarydoodle-17566/locations/-/functions 200
[debug] [2024-07-21T10:24:57.936Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/dollarydoodle-17566/locations/-/functions {}
[debug] [2024-07-21T10:24:57.938Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2024-07-21T10:24:59.598Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/-/functions 200
[debug] [2024-07-21T10:24:59.598Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/-/functions {"functions":[{"name":"projects/dollarydoodle-17566/locations/us-central1/functions/stripeWebhook","buildConfig":{"build":"projects/862779424947/locations/us-central1/builds/e982922e-a8c6-42ad-9770-4ecd0e32acd2","runtime":"nodejs18","entryPoint":"stripeWebhook","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"stripeWebhook/function-source.zip","generation":"1721545170954022"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"stripeWebhook/function-source.zip","generation":"1721545170954022"}},"dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"state":"FAILED","updateTime":"2024-07-21T07:00:00.492653659Z","labels":{"firebase-functions-hash":"03883012075a8fcfcbcf783008b548bfef1b474b","deployment-tool":"cli-firebase"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/dollarydoodle-17566/locations/us-central1/services/stripewebhook for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-dollarydoodle-17566.cloudfunctions.net/stripeWebhook","createTime":"2024-07-21T06:59:31.251970967Z"},{"name":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","buildConfig":{"build":"projects/862779424947/locations/us-central1/builds/02f146c3-f5af-495d-933c-0017dd3de065","runtime":"nodejs18","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"helloWorld/function-source.zip","generation":"1721545144915018"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"helloWorld/function-source.zip","generation":"1721545144915018"}},"dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"state":"FAILED","updateTime":"2024-07-21T06:59:27.980605191Z","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"03883012075a8fcfcbcf783008b548bfef1b474b"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/dollarydoodle-17566/locations/us-central1/services/helloworld for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-dollarydoodle-17566.cloudfunctions.net/helloWorld","createTime":"2024-07-21T06:59:05.167342492Z"}]}
[info] i  functions: ensuring required API run.googleapis.com is enabled... 
[info] i  functions: ensuring required API eventarc.googleapis.com is enabled... 
[info] i  functions: ensuring required API pubsub.googleapis.com is enabled... 
[info] i  functions: ensuring required API storage.googleapis.com is enabled... 
[debug] [2024-07-21T10:24:59.602Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/run.googleapis.com [none]
[debug] [2024-07-21T10:24:59.602Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/run.googleapis.com x-goog-quota-user=projects/dollarydoodle-17566
[debug] [2024-07-21T10:24:59.604Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/eventarc.googleapis.com [none]
[debug] [2024-07-21T10:24:59.604Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/eventarc.googleapis.com x-goog-quota-user=projects/dollarydoodle-17566
[debug] [2024-07-21T10:24:59.606Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/pubsub.googleapis.com [none]
[debug] [2024-07-21T10:24:59.606Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/pubsub.googleapis.com x-goog-quota-user=projects/dollarydoodle-17566
[debug] [2024-07-21T10:24:59.608Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/storage.googleapis.com [none]
[debug] [2024-07-21T10:24:59.608Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/storage.googleapis.com x-goog-quota-user=projects/dollarydoodle-17566
[debug] [2024-07-21T10:25:01.041Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/run.googleapis.com 200
[debug] [2024-07-21T10:25:01.042Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/run.googleapis.com [omitted]
[info] ✔  functions: required API run.googleapis.com is enabled 
[debug] [2024-07-21T10:25:01.070Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/pubsub.googleapis.com 200
[debug] [2024-07-21T10:25:01.070Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/pubsub.googleapis.com [omitted]
[info] ✔  functions: required API pubsub.googleapis.com is enabled 
[debug] [2024-07-21T10:25:01.076Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/eventarc.googleapis.com 200
[debug] [2024-07-21T10:25:01.076Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/eventarc.googleapis.com [omitted]
[info] ✔  functions: required API eventarc.googleapis.com is enabled 
[debug] [2024-07-21T10:25:01.094Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/storage.googleapis.com 200
[debug] [2024-07-21T10:25:01.095Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/storage.googleapis.com [omitted]
[info] ✔  functions: required API storage.googleapis.com is enabled 
[info] i  functions: generating the service identity for pubsub.googleapis.com... 
[info] i  functions: generating the service identity for eventarc.googleapis.com... 
[debug] [2024-07-21T10:25:01.095Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/862779424947/services/pubsub.googleapis.com:generateServiceIdentity [none]
[debug] [2024-07-21T10:25:01.096Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/862779424947/services/eventarc.googleapis.com:generateServiceIdentity [none]
[debug] [2024-07-21T10:25:01.567Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/862779424947/services/pubsub.googleapis.com:generateServiceIdentity 200
[debug] [2024-07-21T10:25:01.567Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/862779424947/services/pubsub.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-862779424947@gcp-sa-pubsub.iam.gserviceaccount.com","uniqueId":"113798306136961303310"}}
[debug] [2024-07-21T10:25:01.609Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/862779424947/services/eventarc.googleapis.com:generateServiceIdentity 200
[debug] [2024-07-21T10:25:01.609Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/862779424947/services/eventarc.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-862779424947@gcp-sa-eventarc.iam.gserviceaccount.com","uniqueId":"103053168025137469440"}}
[debug] [2024-07-21T10:25:01.613Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/dollarydoodle-17566 [none]
[debug] [2024-07-21T10:25:01.977Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/dollarydoodle-17566 200
[debug] [2024-07-21T10:25:01.977Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/dollarydoodle-17566 {"projectId":"dollarydoodle-17566","projectNumber":"862779424947","displayName":"dollarydoodle","name":"projects/dollarydoodle-17566","resources":{"hostingSite":"dollarydoodle-17566"},"state":"ACTIVE","etag":"1_843cb4c5-68ab-43d5-9074-374d0c79ab17"}
[debug] [2024-07-21T10:25:01.979Z] [functions] found 1 new HTTP functions, testing setIamPolicy permission...
[debug] [2024-07-21T10:25:01.979Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/dollarydoodle-17566:testIamPermissions [none]
[debug] [2024-07-21T10:25:01.979Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/dollarydoodle-17566:testIamPermissions x-goog-quota-user=projects/dollarydoodle-17566
[debug] [2024-07-21T10:25:01.979Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/dollarydoodle-17566:testIamPermissions {"permissions":["cloudfunctions.functions.setIamPolicy"]}
[debug] [2024-07-21T10:25:03.203Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/dollarydoodle-17566:testIamPermissions 200
[debug] [2024-07-21T10:25:03.204Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/dollarydoodle-17566:testIamPermissions {"permissions":["cloudfunctions.functions.setIamPolicy"]}
[debug] [2024-07-21T10:25:03.204Z] [functions] found setIamPolicy permission, proceeding with deploy
[debug] [2024-07-21T10:25:03.205Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2024-07-21T10:25:04.653Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/functions:generateUploadUrl 200
[debug] [2024-07-21T10:25:04.653Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/gcf-v2-uploads-862779424947-us-central1/890a5ceb-8afb-46fe-a1c0-cfd9aa726af2.zip?GoogleAccessId=service-862779424947@gcf-admin-robot.iam.gserviceaccount.com&Expires=1721559304&Signature=rfPfLbUUw0AQ%2F%2Bl662gITvYW9474FHynh7B8U%2Bqs%2FBzJmISJTdNq3pn9CVfgs5DrI3jt2iGu3yXrCat8y0RFvN6JzaSeiE%2FY3ECcxWcwcm17mpbLtjlclnijVddQY3ZAyfyKWcJRez%2FrAvB9XgZqVsy1flwjZ4tBIsl7lqpVm%2FE%2Fv3FhnAv1Hieb%2BNEZB9j9mJkK0ttLmr2Xg3cga3Q9%2BVL0pvLaRi1UUKJ3Sasl0nLZ08nWomn1SbJmWVDHvF2%2BXqf7z5%2BDRWrMv0Eq9L%2FejAWwflVngFsE4QO%2FvK3ZOzpvGV5P%2F7pfdeTWUKSc%2F4dnme2XxjOPGqyu2dumL3Y6Zw%3D%3D","storageSource":{"bucket":"gcf-v2-uploads-862779424947-us-central1","object":"890a5ceb-8afb-46fe-a1c0-cfd9aa726af2.zip"}}
[debug] [2024-07-21T10:25:04.655Z] >>> [apiv2][query] PUT https://storage.googleapis.com/gcf-v2-uploads-862779424947-us-central1/890a5ceb-8afb-46fe-a1c0-cfd9aa726af2.zip GoogleAccessId=service-862779424947%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1721559304&Signature=rfPfLbUUw0AQ%2F%2Bl662gITvYW9474FHynh7B8U%2Bqs%2FBzJmISJTdNq3pn9CVfgs5DrI3jt2iGu3yXrCat8y0RFvN6JzaSeiE%2FY3ECcxWcwcm17mpbLtjlclnijVddQY3ZAyfyKWcJRez%2FrAvB9XgZqVsy1flwjZ4tBIsl7lqpVm%2FE%2Fv3FhnAv1Hieb%2BNEZB9j9mJkK0ttLmr2Xg3cga3Q9%2BVL0pvLaRi1UUKJ3Sasl0nLZ08nWomn1SbJmWVDHvF2%2BXqf7z5%2BDRWrMv0Eq9L%2FejAWwflVngFsE4QO%2FvK3ZOzpvGV5P%2F7pfdeTWUKSc%2F4dnme2XxjOPGqyu2dumL3Y6Zw%3D%3D
[debug] [2024-07-21T10:25:04.655Z] >>> [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-862779424947-us-central1/890a5ceb-8afb-46fe-a1c0-cfd9aa726af2.zip [stream]
[debug] [2024-07-21T10:25:05.636Z] <<< [apiv2][status] PUT https://storage.googleapis.com/gcf-v2-uploads-862779424947-us-central1/890a5ceb-8afb-46fe-a1c0-cfd9aa726af2.zip 200
[debug] [2024-07-21T10:25:05.636Z] <<< [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-862779424947-us-central1/890a5ceb-8afb-46fe-a1c0-cfd9aa726af2.zip [omitted]
[info] ✔  functions: functions folder uploaded successfully 
[info] i  functions: creating Node.js 18 (2nd Gen) function handleStripeWebhook(us-central1)... 
[info] i  functions: updating Node.js 18 (2nd Gen) function helloWorld(us-central1)... 
[debug] [2024-07-21T10:25:05.642Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/functions functionId=handleStripeWebhook
[debug] [2024-07-21T10:25:05.642Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/functions {"name":"projects/dollarydoodle-17566/locations/us-central1/functions/handleStripeWebhook","buildConfig":{"runtime":"nodejs18","entryPoint":"handleStripeWebhook","source":{"storageSource":{"bucket":"gcf-v2-uploads-862779424947-us-central1","object":"890a5ceb-8afb-46fe-a1c0-cfd9aa726af2.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/handleStripeWebhook","FUNCTION_TARGET":"handleStripeWebhook"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"0e126b6b0756ed539143fe5f16dcb2fbdf31c7de"}}
[debug] [2024-07-21T10:25:07.433Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/functions 200
[debug] [2024-07-21T10:25:07.433Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/functions {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557506873-61dbf57a85875-269c4eeb-59db142b","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T10:25:07.286068631Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/handleStripeWebhook","verb":"create","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2024-07-21T10:25:07.436Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557506873-61dbf57a85875-269c4eeb-59db142b [none]
[debug] [2024-07-21T10:25:08.781Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557506873-61dbf57a85875-269c4eeb-59db142b 200
[debug] [2024-07-21T10:25:08.783Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557506873-61dbf57a85875-269c4eeb-59db142b {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557506873-61dbf57a85875-269c4eeb-59db142b","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T10:25:07.286068631Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/handleStripeWebhook","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/dollarydoodle-17566/locations/us-central1/functions/handleStripeWebhook","buildConfig":{"runtime":"nodejs18","entryPoint":"handleStripeWebhook","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"handleStripeWebhook/function-source.zip","generation":"1721557507043851"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/dollarydoodle-17566/locations/us-central1/services/handlestripewebhook","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/handleStripeWebhook","FUNCTION_TARGET":"handleStripeWebhook","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"862779424947-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"0e126b6b0756ed539143fe5f16dcb2fbdf31c7de"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/862779424947/locations/us-central1/builds/e46155e8-6e1f-4f7c-8b54-ae3b8de3092a","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/e46155e8-6e1f-4f7c-8b54-ae3b8de3092a?project=862779424947"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION"},"done":false}
[debug] [2024-07-21T10:25:09.311Z] [create-default-us-central1-handleStripeWebhook] Retrying task index 0
[debug] [2024-07-21T10:25:09.312Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557506873-61dbf57a85875-269c4eeb-59db142b [none]
[debug] [2024-07-21T10:25:10.674Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557506873-61dbf57a85875-269c4eeb-59db142b 200
[debug] [2024-07-21T10:25:10.674Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557506873-61dbf57a85875-269c4eeb-59db142b {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557506873-61dbf57a85875-269c4eeb-59db142b","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T10:25:07.286068631Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/handleStripeWebhook","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/dollarydoodle-17566/locations/us-central1/functions/handleStripeWebhook","buildConfig":{"runtime":"nodejs18","entryPoint":"handleStripeWebhook","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"handleStripeWebhook/function-source.zip","generation":"1721557507043851"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/dollarydoodle-17566/locations/us-central1/services/handlestripewebhook","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/handleStripeWebhook","FUNCTION_TARGET":"handleStripeWebhook","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"862779424947-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"0e126b6b0756ed539143fe5f16dcb2fbdf31c7de"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/862779424947/locations/us-central1/builds/e46155e8-6e1f-4f7c-8b54-ae3b8de3092a","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/e46155e8-6e1f-4f7c-8b54-ae3b8de3092a?project=862779424947"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION"},"done":false}
[debug] [2024-07-21T10:25:11.677Z] [create-default-us-central1-handleStripeWebhook] Retrying task index 0
[debug] [2024-07-21T10:25:11.680Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557506873-61dbf57a85875-269c4eeb-59db142b [none]
[debug] [2024-07-21T10:25:13.005Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557506873-61dbf57a85875-269c4eeb-59db142b 200
[debug] [2024-07-21T10:25:13.005Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557506873-61dbf57a85875-269c4eeb-59db142b {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557506873-61dbf57a85875-269c4eeb-59db142b","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T10:25:07.286068631Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/handleStripeWebhook","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/dollarydoodle-17566/locations/us-central1/functions/handleStripeWebhook","buildConfig":{"runtime":"nodejs18","entryPoint":"handleStripeWebhook","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"handleStripeWebhook/function-source.zip","generation":"1721557507043851"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/dollarydoodle-17566/locations/us-central1/services/handlestripewebhook","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/handleStripeWebhook","FUNCTION_TARGET":"handleStripeWebhook","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"862779424947-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"0e126b6b0756ed539143fe5f16dcb2fbdf31c7de"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/862779424947/locations/us-central1/builds/e46155e8-6e1f-4f7c-8b54-ae3b8de3092a","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/e46155e8-6e1f-4f7c-8b54-ae3b8de3092a?project=862779424947"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION"},"done":false}
[debug] [2024-07-21T10:25:15.007Z] [create-default-us-central1-handleStripeWebhook] Retrying task index 0
[debug] [2024-07-21T10:25:15.014Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557506873-61dbf57a85875-269c4eeb-59db142b [none]
[debug] [2024-07-21T10:25:16.384Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557506873-61dbf57a85875-269c4eeb-59db142b 200
[debug] [2024-07-21T10:25:16.384Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557506873-61dbf57a85875-269c4eeb-59db142b {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557506873-61dbf57a85875-269c4eeb-59db142b","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T10:25:07.286068631Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/handleStripeWebhook","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/dollarydoodle-17566/locations/us-central1/functions/handleStripeWebhook","buildConfig":{"runtime":"nodejs18","entryPoint":"handleStripeWebhook","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"handleStripeWebhook/function-source.zip","generation":"1721557507043851"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/dollarydoodle-17566/locations/us-central1/services/handlestripewebhook","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/handleStripeWebhook","FUNCTION_TARGET":"handleStripeWebhook","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"862779424947-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"0e126b6b0756ed539143fe5f16dcb2fbdf31c7de"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/862779424947/locations/us-central1/builds/e46155e8-6e1f-4f7c-8b54-ae3b8de3092a","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/e46155e8-6e1f-4f7c-8b54-ae3b8de3092a?project=862779424947"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION"},"done":false}
[debug] [2024-07-21T10:25:20.387Z] [create-default-us-central1-handleStripeWebhook] Retrying task index 0
[debug] [2024-07-21T10:25:20.390Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557506873-61dbf57a85875-269c4eeb-59db142b [none]
[debug] [2024-07-21T10:25:21.711Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557506873-61dbf57a85875-269c4eeb-59db142b 200
[debug] [2024-07-21T10:25:21.712Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557506873-61dbf57a85875-269c4eeb-59db142b {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557506873-61dbf57a85875-269c4eeb-59db142b","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T10:25:07.286068631Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/handleStripeWebhook","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/dollarydoodle-17566/locations/us-central1/functions/handleStripeWebhook","buildConfig":{"runtime":"nodejs18","entryPoint":"handleStripeWebhook","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"handleStripeWebhook/function-source.zip","generation":"1721557507043851"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/dollarydoodle-17566/locations/us-central1/services/handlestripewebhook","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/handleStripeWebhook","FUNCTION_TARGET":"handleStripeWebhook","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"862779424947-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"0e126b6b0756ed539143fe5f16dcb2fbdf31c7de"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/862779424947/locations/us-central1/builds/e46155e8-6e1f-4f7c-8b54-ae3b8de3092a","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/e46155e8-6e1f-4f7c-8b54-ae3b8de3092a?project=862779424947"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION"},"done":false}
[debug] [2024-07-21T10:25:29.715Z] [create-default-us-central1-handleStripeWebhook] Retrying task index 0
[debug] [2024-07-21T10:25:29.724Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557506873-61dbf57a85875-269c4eeb-59db142b [none]
[debug] [2024-07-21T10:25:31.173Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557506873-61dbf57a85875-269c4eeb-59db142b 200
[debug] [2024-07-21T10:25:31.174Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557506873-61dbf57a85875-269c4eeb-59db142b {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557506873-61dbf57a85875-269c4eeb-59db142b","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T10:25:07.286068631Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/handleStripeWebhook","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/dollarydoodle-17566/locations/us-central1/functions/handleStripeWebhook","buildConfig":{"runtime":"nodejs18","entryPoint":"handleStripeWebhook","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"handleStripeWebhook/function-source.zip","generation":"1721557507043851"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/dollarydoodle-17566/locations/us-central1/services/handlestripewebhook","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/handleStripeWebhook","FUNCTION_TARGET":"handleStripeWebhook","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"862779424947-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"0e126b6b0756ed539143fe5f16dcb2fbdf31c7de"},"environment":"GEN_2"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/862779424947/locations/us-central1/builds/e46155e8-6e1f-4f7c-8b54-ae3b8de3092a","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/e46155e8-6e1f-4f7c-8b54-ae3b8de3092a?project=862779424947"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"CREATE_FUNCTION"},"done":false}
[debug] [2024-07-21T10:25:41.180Z] [create-default-us-central1-handleStripeWebhook] Retrying task index 0
[debug] [2024-07-21T10:25:41.204Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557506873-61dbf57a85875-269c4eeb-59db142b [none]
[debug] [2024-07-21T10:25:42.799Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557506873-61dbf57a85875-269c4eeb-59db142b 200
[debug] [2024-07-21T10:25:42.801Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557506873-61dbf57a85875-269c4eeb-59db142b {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557506873-61dbf57a85875-269c4eeb-59db142b","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T10:25:07.286068631Z","endTime":"2024-07-21T10:25:37.687014377Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/handleStripeWebhook","verb":"create","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/dollarydoodle-17566/locations/us-central1/functions/handleStripeWebhook","buildConfig":{"runtime":"nodejs18","entryPoint":"handleStripeWebhook","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"handleStripeWebhook/function-source.zip","generation":"1721557507043851"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/dollarydoodle-17566/locations/us-central1/services/handlestripewebhook","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/handleStripeWebhook","FUNCTION_TARGET":"handleStripeWebhook","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"862779424947-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"0e126b6b0756ed539143fe5f16dcb2fbdf31c7de"},"environment":"GEN_2"},"stages":[{"name":"ARTIFACT_REGISTRY","message":"Deleting function artifacts in Artifact Registry","state":"COMPLETE"},{"name":"SERVICE","message":"Deleting Cloud Run service","state":"COMPLETE","resource":"projects/dollarydoodle-17566/locations/us-central1/services/handlestripewebhook"}],"operationType":"CREATE_FUNCTION"},"done":true,"error":{"code":3,"message":"Build failed with status: FAILURE and message: installing pnpm dependencies: (error ID: 8622936f):\nERR_PNPM_OUTDATED_LOCKFILE  Cannot install with \"frozen-lockfile\" because pnpm-lock.yaml is not up to date with package.json\n\nNote that in CI environments this setting is true by default. If you still need to run install in such cases, use \"pnpm install --no-frozen-lockfile\"\n\n    Failure reason:\n    specifiers in the lockfile ({\"firebase-admin\":\"^12.1.0\",\"firebase-functions\":\"^5.0.0\",\"@typescript-eslint/eslint-plugin\":\"^5.12.0\",\"@typescript-eslint/parser\":\"^5.12.0\",\"eslint\":\"^8.9.0\",\"eslint-config-google\":\"^0.14.0\",\"eslint-plugin-import\":\"^2.25.4\",\"firebase-functions-test\":\"^3.1.0\",\"typescript\":\"^4.9.0\"}) don't match specs in package.json ({\"typescript\":\"^4.9.0\",\"firebase-functions-test\":\"^3.1.0\",\"firebase-admin\":\"^12.1.0\",\"firebase-functions\":\"^5.0.0\"}). For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/e46155e8-6e1f-4f7c-8b54-ae3b8de3092a?project=862779424947."}}
[debug] [2024-07-21T10:25:42.803Z] Got source token undefined for region us-central1
[debug] [2024-07-21T10:25:42.822Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld updateMask=name%2CbuildConfig.runtime%2CbuildConfig.entryPoint%2CbuildConfig.source.storageSource.bucket%2CbuildConfig.source.storageSource.object%2CbuildConfig.environmentVariables%2CbuildConfig.sourceToken%2CserviceConfig.environmentVariables%2CserviceConfig.ingressSettings%2CserviceConfig.timeoutSeconds%2CserviceConfig.serviceAccountEmail%2CserviceConfig.availableMemory%2CserviceConfig.minInstanceCount%2CserviceConfig.maxInstanceCount%2CserviceConfig.maxInstanceRequestConcurrency%2CserviceConfig.availableCpu%2CserviceConfig.vpcConnector%2CserviceConfig.vpcConnectorEgressSettings%2Clabels%2CbuildConfig.buildEnvironmentVariables
[debug] [2024-07-21T10:25:42.822Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld {"name":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs18","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-uploads-862779424947-us-central1","object":"890a5ceb-8afb-46fe-a1c0-cfd9aa726af2.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"0e126b6b0756ed539143fe5f16dcb2fbdf31c7de"}}
[error] Build failed with status: FAILURE and message: installing pnpm dependencies: (error ID: 8622936f):
ERR_PNPM_OUTDATED_LOCKFILE  Cannot install with "frozen-lockfile" because pnpm-lock.yaml is not up to date with package.json

Note that in CI environments this setting is true by default. If you still need to run install in such cases, use "pnpm install --no-frozen-lockfile"

    Failure reason:
    specifiers in the lockfile ({"firebase-admin":"^12.1.0","firebase-functions":"^5.0.0","@typescript-eslint/eslint-plugin":"^5.12.0","@typescript-eslint/parser":"^5.12.0","eslint":"^8.9.0","eslint-config-google":"^0.14.0","eslint-plugin-import":"^2.25.4","firebase-functions-test":"^3.1.0","typescript":"^4.9.0"}) don't match specs in package.json ({"typescript":"^4.9.0","firebase-functions-test":"^3.1.0","firebase-admin":"^12.1.0","firebase-functions":"^5.0.0"}). For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/e46155e8-6e1f-4f7c-8b54-ae3b8de3092a?project=862779424947.
[debug] [2024-07-21T10:25:44.983Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld 200
[debug] [2024-07-21T10:25:44.984Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557544085-61dbf59e026a3-c76cd033-37d37c41","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T10:25:44.845579981Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","verb":"update","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2024-07-21T10:25:44.986Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557544085-61dbf59e026a3-c76cd033-37d37c41 [none]
[debug] [2024-07-21T10:25:46.344Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557544085-61dbf59e026a3-c76cd033-37d37c41 200
[debug] [2024-07-21T10:25:46.345Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557544085-61dbf59e026a3-c76cd033-37d37c41 {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557544085-61dbf59e026a3-c76cd033-37d37c41","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T10:25:44.845579981Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs18","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"helloWorld/function-source.zip","generation":"1721557544805404"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"helloWorld/function-source.zip","generation":"1721545144915018"}},"dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/dollarydoodle-17566/locations/us-central1/services/helloworld","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"862779424947-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"firebase-functions-hash":"0e126b6b0756ed539143fe5f16dcb2fbdf31c7de"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/dollarydoodle-17566/locations/us-central1/services/helloworld for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-dollarydoodle-17566.cloudfunctions.net/helloWorld"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/862779424947/locations/us-central1/builds/f24c2e04-69d4-4f17-b3b6-e05fb58bc171","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/f24c2e04-69d4-4f17-b3b6-e05fb58bc171?project=862779424947"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":false}
[debug] [2024-07-21T10:25:46.847Z] [update-default-us-central1-helloWorld] Retrying task index 0
[debug] [2024-07-21T10:25:46.848Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557544085-61dbf59e026a3-c76cd033-37d37c41 [none]
[debug] [2024-07-21T10:25:48.219Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557544085-61dbf59e026a3-c76cd033-37d37c41 200
[debug] [2024-07-21T10:25:48.220Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557544085-61dbf59e026a3-c76cd033-37d37c41 {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557544085-61dbf59e026a3-c76cd033-37d37c41","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T10:25:44.845579981Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs18","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"helloWorld/function-source.zip","generation":"1721557544805404"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"helloWorld/function-source.zip","generation":"1721545144915018"}},"dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/dollarydoodle-17566/locations/us-central1/services/helloworld","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"862779424947-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"firebase-functions-hash":"0e126b6b0756ed539143fe5f16dcb2fbdf31c7de"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/dollarydoodle-17566/locations/us-central1/services/helloworld for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-dollarydoodle-17566.cloudfunctions.net/helloWorld"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/862779424947/locations/us-central1/builds/f24c2e04-69d4-4f17-b3b6-e05fb58bc171","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/f24c2e04-69d4-4f17-b3b6-e05fb58bc171?project=862779424947"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":false}
[debug] [2024-07-21T10:25:49.232Z] [update-default-us-central1-helloWorld] Retrying task index 0
[debug] [2024-07-21T10:25:49.244Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557544085-61dbf59e026a3-c76cd033-37d37c41 [none]
[debug] [2024-07-21T10:25:50.611Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557544085-61dbf59e026a3-c76cd033-37d37c41 200
[debug] [2024-07-21T10:25:50.612Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557544085-61dbf59e026a3-c76cd033-37d37c41 {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557544085-61dbf59e026a3-c76cd033-37d37c41","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T10:25:44.845579981Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs18","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"helloWorld/function-source.zip","generation":"1721557544805404"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"helloWorld/function-source.zip","generation":"1721545144915018"}},"dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/dollarydoodle-17566/locations/us-central1/services/helloworld","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"862779424947-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"firebase-functions-hash":"0e126b6b0756ed539143fe5f16dcb2fbdf31c7de"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/dollarydoodle-17566/locations/us-central1/services/helloworld for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-dollarydoodle-17566.cloudfunctions.net/helloWorld"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/862779424947/locations/us-central1/builds/f24c2e04-69d4-4f17-b3b6-e05fb58bc171","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/f24c2e04-69d4-4f17-b3b6-e05fb58bc171?project=862779424947"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":false}
[debug] [2024-07-21T10:25:52.624Z] [update-default-us-central1-helloWorld] Retrying task index 0
[debug] [2024-07-21T10:25:52.633Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557544085-61dbf59e026a3-c76cd033-37d37c41 [none]
[debug] [2024-07-21T10:25:54.001Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557544085-61dbf59e026a3-c76cd033-37d37c41 200
[debug] [2024-07-21T10:25:54.001Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557544085-61dbf59e026a3-c76cd033-37d37c41 {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557544085-61dbf59e026a3-c76cd033-37d37c41","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T10:25:44.845579981Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs18","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"helloWorld/function-source.zip","generation":"1721557544805404"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"helloWorld/function-source.zip","generation":"1721545144915018"}},"dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/dollarydoodle-17566/locations/us-central1/services/helloworld","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"862779424947-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"firebase-functions-hash":"0e126b6b0756ed539143fe5f16dcb2fbdf31c7de"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/dollarydoodle-17566/locations/us-central1/services/helloworld for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-dollarydoodle-17566.cloudfunctions.net/helloWorld"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/862779424947/locations/us-central1/builds/f24c2e04-69d4-4f17-b3b6-e05fb58bc171","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/f24c2e04-69d4-4f17-b3b6-e05fb58bc171?project=862779424947"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":false}
[debug] [2024-07-21T10:25:58.003Z] [update-default-us-central1-helloWorld] Retrying task index 0
[debug] [2024-07-21T10:25:58.008Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557544085-61dbf59e026a3-c76cd033-37d37c41 [none]
[debug] [2024-07-21T10:25:59.353Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557544085-61dbf59e026a3-c76cd033-37d37c41 200
[debug] [2024-07-21T10:25:59.354Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557544085-61dbf59e026a3-c76cd033-37d37c41 {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557544085-61dbf59e026a3-c76cd033-37d37c41","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T10:25:44.845579981Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs18","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"helloWorld/function-source.zip","generation":"1721557544805404"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"helloWorld/function-source.zip","generation":"1721545144915018"}},"dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/dollarydoodle-17566/locations/us-central1/services/helloworld","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"862779424947-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"firebase-functions-hash":"0e126b6b0756ed539143fe5f16dcb2fbdf31c7de"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/dollarydoodle-17566/locations/us-central1/services/helloworld for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-dollarydoodle-17566.cloudfunctions.net/helloWorld"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/862779424947/locations/us-central1/builds/f24c2e04-69d4-4f17-b3b6-e05fb58bc171","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/f24c2e04-69d4-4f17-b3b6-e05fb58bc171?project=862779424947"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":false}
[debug] [2024-07-21T10:26:07.357Z] [update-default-us-central1-helloWorld] Retrying task index 0
[debug] [2024-07-21T10:26:07.360Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557544085-61dbf59e026a3-c76cd033-37d37c41 [none]
[debug] [2024-07-21T10:26:08.776Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557544085-61dbf59e026a3-c76cd033-37d37c41 200
[debug] [2024-07-21T10:26:08.776Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557544085-61dbf59e026a3-c76cd033-37d37c41 {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557544085-61dbf59e026a3-c76cd033-37d37c41","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T10:25:44.845579981Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs18","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"helloWorld/function-source.zip","generation":"1721557544805404"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"helloWorld/function-source.zip","generation":"1721545144915018"}},"dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/dollarydoodle-17566/locations/us-central1/services/helloworld","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"862779424947-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"firebase-functions-hash":"0e126b6b0756ed539143fe5f16dcb2fbdf31c7de"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/dollarydoodle-17566/locations/us-central1/services/helloworld for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-dollarydoodle-17566.cloudfunctions.net/helloWorld"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/862779424947/locations/us-central1/builds/f24c2e04-69d4-4f17-b3b6-e05fb58bc171","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/f24c2e04-69d4-4f17-b3b6-e05fb58bc171?project=862779424947"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":false}
[debug] [2024-07-21T10:26:18.782Z] [update-default-us-central1-helloWorld] Retrying task index 0
[debug] [2024-07-21T10:26:18.794Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557544085-61dbf59e026a3-c76cd033-37d37c41 [none]
[debug] [2024-07-21T10:26:20.234Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557544085-61dbf59e026a3-c76cd033-37d37c41 200
[debug] [2024-07-21T10:26:20.234Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557544085-61dbf59e026a3-c76cd033-37d37c41 {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557544085-61dbf59e026a3-c76cd033-37d37c41","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T10:25:44.845579981Z","endTime":"2024-07-21T10:26:16.648570220Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs18","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"helloWorld/function-source.zip","generation":"1721557544805404"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"helloWorld/function-source.zip","generation":"1721545144915018"}},"dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/dollarydoodle-17566/locations/us-central1/services/helloworld","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"862779424947-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"firebase-functions-hash":"0e126b6b0756ed539143fe5f16dcb2fbdf31c7de"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/dollarydoodle-17566/locations/us-central1/services/helloworld for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-dollarydoodle-17566.cloudfunctions.net/helloWorld"},"stages":[{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":true,"error":{"code":3,"message":"Build failed with status: FAILURE and message: installing pnpm dependencies: (error ID: 8622936f):\nERR_PNPM_OUTDATED_LOCKFILE  Cannot install with \"frozen-lockfile\" because pnpm-lock.yaml is not up to date with package.json\n\nNote that in CI environments this setting is true by default. If you still need to run install in such cases, use \"pnpm install --no-frozen-lockfile\"\n\n    Failure reason:\n    specifiers in the lockfile ({\"firebase-admin\":\"^12.1.0\",\"firebase-functions\":\"^5.0.0\",\"@typescript-eslint/eslint-plugin\":\"^5.12.0\",\"@typescript-eslint/parser\":\"^5.12.0\",\"eslint\":\"^8.9.0\",\"eslint-config-google\":\"^0.14.0\",\"eslint-plugin-import\":\"^2.25.4\",\"firebase-functions-test\":\"^3.1.0\",\"typescript\":\"^4.9.0\"}) don't match specs in package.json ({\"typescript\":\"^4.9.0\",\"firebase-functions-test\":\"^3.1.0\",\"firebase-admin\":\"^12.1.0\",\"firebase-functions\":\"^5.0.0\"}). For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/f24c2e04-69d4-4f17-b3b6-e05fb58bc171?project=862779424947."}}
[debug] [2024-07-21T10:26:20.235Z] Got source token undefined for region us-central1
[error] Build failed with status: FAILURE and message: installing pnpm dependencies: (error ID: 8622936f):
ERR_PNPM_OUTDATED_LOCKFILE  Cannot install with "frozen-lockfile" because pnpm-lock.yaml is not up to date with package.json

Note that in CI environments this setting is true by default. If you still need to run install in such cases, use "pnpm install --no-frozen-lockfile"

    Failure reason:
    specifiers in the lockfile ({"firebase-admin":"^12.1.0","firebase-functions":"^5.0.0","@typescript-eslint/eslint-plugin":"^5.12.0","@typescript-eslint/parser":"^5.12.0","eslint":"^8.9.0","eslint-config-google":"^0.14.0","eslint-plugin-import":"^2.25.4","firebase-functions-test":"^3.1.0","typescript":"^4.9.0"}) don't match specs in package.json ({"typescript":"^4.9.0","firebase-functions-test":"^3.1.0","firebase-admin":"^12.1.0","firebase-functions":"^5.0.0"}). For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/f24c2e04-69d4-4f17-b3b6-e05fb58bc171?project=862779424947.
[debug] [2024-07-21T10:26:20.251Z] Total Function Deployment time: 74605
[debug] [2024-07-21T10:26:20.251Z] 2 Functions Deployed
[debug] [2024-07-21T10:26:20.251Z] 2 Functions Errored
[debug] [2024-07-21T10:26:20.251Z] 0 Function Deployments Aborted
[debug] [2024-07-21T10:26:20.252Z] Average Function Deployment time: 55897.5
[info] 
[info] Functions deploy had errors with the following functions:
	handleStripeWebhook(us-central1)
	helloWorld(us-central1)
[debug] [2024-07-21T10:26:20.256Z] Not printing URL for HTTPS function. Typically this means it didn't match a filter or we failed deployment
[debug] [2024-07-21T10:26:20.256Z] Not printing URL for HTTPS function. Typically this means it didn't match a filter or we failed deployment
[info] i  functions: cleaning up build files... 
[debug] [2024-07-21T10:26:20.262Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts/packages/hello_world [none]
[debug] [2024-07-21T10:26:20.263Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts/packages/handle_stripe_webhook [none]
[debug] [2024-07-21T10:26:20.264Z] >>> [apiv2][query] GET https://us.gcr.io/v2/dollarydoodle-17566/gcf/us-central1/tags/list [none]
[debug] [2024-07-21T10:26:20.839Z] <<< [apiv2][status] GET https://us.gcr.io/v2/dollarydoodle-17566/gcf/us-central1/tags/list 404
[debug] [2024-07-21T10:26:20.839Z] <<< [apiv2][body] GET https://us.gcr.io/v2/dollarydoodle-17566/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-07-21T10:26:20.842Z] Failed docker command with error  HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"HTTP Error: 404, Not Found","status":404}
[debug] [2024-07-21T10:26:20.845Z] >>> [apiv2][query] GET https://us.gcr.io/v2/dollarydoodle-17566/gcf/us-central1/tags/list [none]
[debug] [2024-07-21T10:26:21.183Z] <<< [apiv2][status] GET https://us.gcr.io/v2/dollarydoodle-17566/gcf/us-central1/tags/list 404
[debug] [2024-07-21T10:26:21.183Z] <<< [apiv2][body] GET https://us.gcr.io/v2/dollarydoodle-17566/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-07-21T10:26:21.183Z] Failed docker command with error  HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"HTTP Error: 404, Not Found","status":404}
[debug] [2024-07-21T10:26:21.284Z] >>> [apiv2][query] GET https://us.gcr.io/v2/dollarydoodle-17566/gcf/us-central1/tags/list [none]
[debug] [2024-07-21T10:26:21.615Z] <<< [apiv2][status] GET https://us.gcr.io/v2/dollarydoodle-17566/gcf/us-central1/tags/list 404
[debug] [2024-07-21T10:26:21.615Z] <<< [apiv2][body] GET https://us.gcr.io/v2/dollarydoodle-17566/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-07-21T10:26:21.615Z] Failed docker command with error  HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"HTTP Error: 404, Not Found","status":404}
[debug] [2024-07-21T10:26:21.796Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts/packages/hello_world 404
[debug] [2024-07-21T10:26:21.796Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts/packages/hello_world {"error":{"code":404,"message":"Package \"projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts/packages/hello_world\" was not found.","status":"NOT_FOUND"}}
[debug] [2024-07-21T10:26:21.797Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts/packages/handle_stripe_webhook 404
[debug] [2024-07-21T10:26:21.797Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts/packages/handle_stripe_webhook {"error":{"code":404,"message":"Package \"projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts/packages/handle_stripe_webhook\" was not found.","status":"NOT_FOUND"}}
[warn] ⚠  functions: Unhandled error cleaning up build images. This could result in a small monthly bill if not corrected. You can attempt to delete these images by redeploying or you can delete them manually at https://console.cloud.google.com/gcr/images/dollarydoodle-17566/us/gcf 
[debug] [2024-07-21T10:26:21.801Z] Functions deploy failed.
[debug] [2024-07-21T10:26:21.802Z] {
  "endpoint": {
    "id": "handleStripeWebhook",
    "project": "dollarydoodle-17566",
    "region": "us-central1",
    "entryPoint": "handleStripeWebhook",
    "platform": "gcfv2",
    "runtime": "nodejs18",
    "httpsTrigger": {},
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "ingressSettings": null,
    "availableMemoryMb": null,
    "serviceAccount": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "concurrency": 80,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}",
      "GCLOUD_PROJECT": "dollarydoodle-17566",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/dollarydoodle-17566/locations/us-central1/services/handleStripeWebhook"
    },
    "codebase": "default",
    "cpu": 1,
    "targetedByOnly": false,
    "hash": "0e126b6b0756ed539143fe5f16dcb2fbdf31c7de"
  },
  "op": "create",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Build failed with status: FAILURE and message: installing pnpm dependencies: (error ID: 8622936f):\nERR_PNPM_OUTDATED_LOCKFILE  Cannot install with \"frozen-lockfile\" because pnpm-lock.yaml is not up to date with package.json\n\nNote that in CI environments this setting is true by default. If you still need to run install in such cases, use \"pnpm install --no-frozen-lockfile\"\n\n    Failure reason:\n    specifiers in the lockfile ({\"firebase-admin\":\"^12.1.0\",\"firebase-functions\":\"^5.0.0\",\"@typescript-eslint/eslint-plugin\":\"^5.12.0\",\"@typescript-eslint/parser\":\"^5.12.0\",\"eslint\":\"^8.9.0\",\"eslint-config-google\":\"^0.14.0\",\"eslint-plugin-import\":\"^2.25.4\",\"firebase-functions-test\":\"^3.1.0\",\"typescript\":\"^4.9.0\"}) don't match specs in package.json ({\"typescript\":\"^4.9.0\",\"firebase-functions-test\":\"^3.1.0\",\"firebase-admin\":\"^12.1.0\",\"firebase-functions\":\"^5.0.0\"}). For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/e46155e8-6e1f-4f7c-8b54-ae3b8de3092a?project=862779424947.",
    "original": {
      "code": 3,
      "message": "Build failed with status: FAILURE and message: installing pnpm dependencies: (error ID: 8622936f):\nERR_PNPM_OUTDATED_LOCKFILE  Cannot install with \"frozen-lockfile\" because pnpm-lock.yaml is not up to date with package.json\n\nNote that in CI environments this setting is true by default. If you still need to run install in such cases, use \"pnpm install --no-frozen-lockfile\"\n\n    Failure reason:\n    specifiers in the lockfile ({\"firebase-admin\":\"^12.1.0\",\"firebase-functions\":\"^5.0.0\",\"@typescript-eslint/eslint-plugin\":\"^5.12.0\",\"@typescript-eslint/parser\":\"^5.12.0\",\"eslint\":\"^8.9.0\",\"eslint-config-google\":\"^0.14.0\",\"eslint-plugin-import\":\"^2.25.4\",\"firebase-functions-test\":\"^3.1.0\",\"typescript\":\"^4.9.0\"}) don't match specs in package.json ({\"typescript\":\"^4.9.0\",\"firebase-functions-test\":\"^3.1.0\",\"firebase-admin\":\"^12.1.0\",\"firebase-functions\":\"^5.0.0\"}). For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/e46155e8-6e1f-4f7c-8b54-ae3b8de3092a?project=862779424947."
    },
    "status": 3,
    "code": 3
  }
}
[debug] [2024-07-21T10:26:21.802Z] {
  "endpoint": {
    "id": "helloWorld",
    "project": "dollarydoodle-17566",
    "region": "us-central1",
    "entryPoint": "helloWorld",
    "platform": "gcfv2",
    "runtime": "nodejs18",
    "httpsTrigger": {},
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "ingressSettings": null,
    "availableMemoryMb": null,
    "serviceAccount": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "concurrency": 80,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}",
      "GCLOUD_PROJECT": "dollarydoodle-17566",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/dollarydoodle-17566/locations/us-central1/services/helloWorld"
    },
    "codebase": "default",
    "securityLevel": "SECURE_ALWAYS",
    "cpu": 1,
    "targetedByOnly": false,
    "hash": "0e126b6b0756ed539143fe5f16dcb2fbdf31c7de"
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Build failed with status: FAILURE and message: installing pnpm dependencies: (error ID: 8622936f):\nERR_PNPM_OUTDATED_LOCKFILE  Cannot install with \"frozen-lockfile\" because pnpm-lock.yaml is not up to date with package.json\n\nNote that in CI environments this setting is true by default. If you still need to run install in such cases, use \"pnpm install --no-frozen-lockfile\"\n\n    Failure reason:\n    specifiers in the lockfile ({\"firebase-admin\":\"^12.1.0\",\"firebase-functions\":\"^5.0.0\",\"@typescript-eslint/eslint-plugin\":\"^5.12.0\",\"@typescript-eslint/parser\":\"^5.12.0\",\"eslint\":\"^8.9.0\",\"eslint-config-google\":\"^0.14.0\",\"eslint-plugin-import\":\"^2.25.4\",\"firebase-functions-test\":\"^3.1.0\",\"typescript\":\"^4.9.0\"}) don't match specs in package.json ({\"typescript\":\"^4.9.0\",\"firebase-functions-test\":\"^3.1.0\",\"firebase-admin\":\"^12.1.0\",\"firebase-functions\":\"^5.0.0\"}). For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/f24c2e04-69d4-4f17-b3b6-e05fb58bc171?project=862779424947.",
    "original": {
      "code": 3,
      "message": "Build failed with status: FAILURE and message: installing pnpm dependencies: (error ID: 8622936f):\nERR_PNPM_OUTDATED_LOCKFILE  Cannot install with \"frozen-lockfile\" because pnpm-lock.yaml is not up to date with package.json\n\nNote that in CI environments this setting is true by default. If you still need to run install in such cases, use \"pnpm install --no-frozen-lockfile\"\n\n    Failure reason:\n    specifiers in the lockfile ({\"firebase-admin\":\"^12.1.0\",\"firebase-functions\":\"^5.0.0\",\"@typescript-eslint/eslint-plugin\":\"^5.12.0\",\"@typescript-eslint/parser\":\"^5.12.0\",\"eslint\":\"^8.9.0\",\"eslint-config-google\":\"^0.14.0\",\"eslint-plugin-import\":\"^2.25.4\",\"firebase-functions-test\":\"^3.1.0\",\"typescript\":\"^4.9.0\"}) don't match specs in package.json ({\"typescript\":\"^4.9.0\",\"firebase-functions-test\":\"^3.1.0\",\"firebase-admin\":\"^12.1.0\",\"firebase-functions\":\"^5.0.0\"}). For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/f24c2e04-69d4-4f17-b3b6-e05fb58bc171?project=862779424947."
    },
    "status": 3,
    "code": 3
  }
}
[error] Error: There was an error deploying functions:
[error] - Error Failed to create function handleStripeWebhook in region us-central1
[error] - Error Failed to update function helloWorld in region us-central1
[debug] [2024-07-21T10:27:02.372Z] ----------------------------------------------------------------------
[debug] [2024-07-21T10:27:02.380Z] Command:       /opt/homebrew/Cellar/node/22.3.0/bin/node /opt/homebrew/bin/firebase deploy --only functions
[debug] [2024-07-21T10:27:02.381Z] CLI Version:   13.13.3
[debug] [2024-07-21T10:27:02.381Z] Platform:      darwin
[debug] [2024-07-21T10:27:02.381Z] Node Version:  v22.3.0
[debug] [2024-07-21T10:27:02.381Z] Time:          Sun Jul 21 2024 17:27:02 GMT+0700 (Indochina Time)
[debug] [2024-07-21T10:27:02.382Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-07-21T10:27:02.659Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-07-21T10:27:02.661Z] > authorizing via signed-in user (pathonscript@gmail.com)
[debug] [2024-07-21T10:27:02.661Z] [iam] checking project dollarydoodle-17566 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2024-07-21T10:27:02.694Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/dollarydoodle-17566:testIamPermissions [none]
[debug] [2024-07-21T10:27:02.694Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/dollarydoodle-17566:testIamPermissions x-goog-quota-user=projects/dollarydoodle-17566
[debug] [2024-07-21T10:27:02.694Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/dollarydoodle-17566:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-07-21T10:27:04.061Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/dollarydoodle-17566:testIamPermissions 200
[debug] [2024-07-21T10:27:04.062Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/dollarydoodle-17566:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-07-21T10:27:04.070Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/dollarydoodle-17566/serviceAccounts/dollarydoodle-17566@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2024-07-21T10:27:04.070Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/dollarydoodle-17566/serviceAccounts/dollarydoodle-17566@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2024-07-21T10:27:05.483Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/dollarydoodle-17566/serviceAccounts/dollarydoodle-17566@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2024-07-21T10:27:05.484Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/dollarydoodle-17566/serviceAccounts/dollarydoodle-17566@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'dollarydoodle-17566'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run build
[info] ✔  functions: Finished running predeploy script. 
[debug] [2024-07-21T10:27:13.981Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/dollarydoodle-17566 [none]
[debug] [2024-07-21T10:27:14.411Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/dollarydoodle-17566 200
[debug] [2024-07-21T10:27:14.411Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/dollarydoodle-17566 {"projectId":"dollarydoodle-17566","projectNumber":"862779424947","displayName":"dollarydoodle","name":"projects/dollarydoodle-17566","resources":{"hostingSite":"dollarydoodle-17566"},"state":"ACTIVE","etag":"1_843cb4c5-68ab-43d5-9074-374d0c79ab17"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2024-07-21T10:27:14.416Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/cloudfunctions.googleapis.com [none]
[debug] [2024-07-21T10:27:14.416Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/dollarydoodle-17566
[debug] [2024-07-21T10:27:14.418Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/runtimeconfig.googleapis.com [none]
[debug] [2024-07-21T10:27:14.418Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/dollarydoodle-17566
[debug] [2024-07-21T10:27:14.420Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/cloudbuild.googleapis.com [none]
[debug] [2024-07-21T10:27:14.420Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/cloudbuild.googleapis.com x-goog-quota-user=projects/dollarydoodle-17566
[debug] [2024-07-21T10:27:14.423Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/artifactregistry.googleapis.com [none]
[debug] [2024-07-21T10:27:14.423Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/artifactregistry.googleapis.com x-goog-quota-user=projects/dollarydoodle-17566
[debug] [2024-07-21T10:27:16.189Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/cloudfunctions.googleapis.com 200
[debug] [2024-07-21T10:27:16.190Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2024-07-21T10:27:16.193Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/artifactregistry.googleapis.com 200
[debug] [2024-07-21T10:27:16.194Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2024-07-21T10:27:16.194Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/runtimeconfig.googleapis.com 200
[debug] [2024-07-21T10:27:16.195Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/runtimeconfig.googleapis.com [omitted]
[debug] [2024-07-21T10:27:16.196Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/cloudbuild.googleapis.com 200
[debug] [2024-07-21T10:27:16.196Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2024-07-21T10:27:16.197Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/dollarydoodle-17566/adminSdkConfig [none]
[debug] [2024-07-21T10:27:16.519Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/dollarydoodle-17566/adminSdkConfig 200
[debug] [2024-07-21T10:27:16.519Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/dollarydoodle-17566/adminSdkConfig {"projectId":"dollarydoodle-17566","storageBucket":"dollarydoodle-17566.appspot.com"}
[debug] [2024-07-21T10:27:16.520Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/dollarydoodle-17566/configs [none]
[debug] [2024-07-21T10:27:16.943Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/dollarydoodle-17566/configs 200
[debug] [2024-07-21T10:27:16.943Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/dollarydoodle-17566/configs {}
[debug] [2024-07-21T10:27:16.946Z] Validating nodejs source
[debug] [2024-07-21T10:27:18.393Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0"
  },
  "devDependencies": {
    "typescript": "^4.9.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-07-21T10:27:18.394Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2024-07-21T10:27:18.396Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-21T10:27:18.416Z] Found firebase-functions binary at '/Users/patato/Documents/dollaridoodle/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8860

[debug] [2024-07-21T10:27:20.624Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"helloWorld"},"handleStripeWebhook":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"handleStripeWebhook"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged /Users/patato/Documents/dollaridoodle/functions (56.07 KB) for uploading 
[debug] [2024-07-21T10:27:25.809Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/dollarydoodle-17566/locations/-/functions [none]
[debug] [2024-07-21T10:27:26.707Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/dollarydoodle-17566/locations/-/functions 200
[debug] [2024-07-21T10:27:26.707Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/dollarydoodle-17566/locations/-/functions {}
[debug] [2024-07-21T10:27:26.709Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2024-07-21T10:27:28.352Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/-/functions 200
[debug] [2024-07-21T10:27:28.352Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/-/functions {"functions":[{"name":"projects/dollarydoodle-17566/locations/us-central1/functions/stripeWebhook","buildConfig":{"build":"projects/862779424947/locations/us-central1/builds/e982922e-a8c6-42ad-9770-4ecd0e32acd2","runtime":"nodejs18","entryPoint":"stripeWebhook","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"stripeWebhook/function-source.zip","generation":"1721545170954022"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"stripeWebhook/function-source.zip","generation":"1721545170954022"}},"dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"state":"FAILED","updateTime":"2024-07-21T07:00:00.492653659Z","labels":{"firebase-functions-hash":"03883012075a8fcfcbcf783008b548bfef1b474b","deployment-tool":"cli-firebase"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/dollarydoodle-17566/locations/us-central1/services/stripewebhook for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-dollarydoodle-17566.cloudfunctions.net/stripeWebhook","createTime":"2024-07-21T06:59:31.251970967Z"},{"name":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","buildConfig":{"build":"projects/862779424947/locations/us-central1/builds/02f146c3-f5af-495d-933c-0017dd3de065","runtime":"nodejs18","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"helloWorld/function-source.zip","generation":"1721545144915018"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"helloWorld/function-source.zip","generation":"1721545144915018"}},"dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"state":"UNKNOWN","updateTime":"2024-07-21T10:26:16.659029650Z","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"0e126b6b0756ed539143fe5f16dcb2fbdf31c7de"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/dollarydoodle-17566/locations/us-central1/services/helloworld for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-dollarydoodle-17566.cloudfunctions.net/helloWorld","createTime":"2024-07-21T06:59:05.167342492Z"},{"name":"projects/dollarydoodle-17566/locations/us-central1/functions/handleStripeWebhook","buildConfig":{"build":"projects/862779424947/locations/us-central1/builds/e46155e8-6e1f-4f7c-8b54-ae3b8de3092a","runtime":"nodejs18","entryPoint":"handleStripeWebhook","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"handleStripeWebhook/function-source.zip","generation":"1721557507043851"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"handleStripeWebhook/function-source.zip","generation":"1721557507043851"}},"dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"state":"FAILED","updateTime":"2024-07-21T10:25:37.696021289Z","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"0e126b6b0756ed539143fe5f16dcb2fbdf31c7de"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/dollarydoodle-17566/locations/us-central1/services/handlestripewebhook for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-dollarydoodle-17566.cloudfunctions.net/handleStripeWebhook","createTime":"2024-07-21T10:25:07.281547683Z"}]}
[info] i  functions: ensuring required API run.googleapis.com is enabled... 
[info] i  functions: ensuring required API eventarc.googleapis.com is enabled... 
[info] i  functions: ensuring required API pubsub.googleapis.com is enabled... 
[info] i  functions: ensuring required API storage.googleapis.com is enabled... 
[debug] [2024-07-21T10:27:28.358Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/run.googleapis.com [none]
[debug] [2024-07-21T10:27:28.358Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/run.googleapis.com x-goog-quota-user=projects/dollarydoodle-17566
[debug] [2024-07-21T10:27:28.362Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/eventarc.googleapis.com [none]
[debug] [2024-07-21T10:27:28.362Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/eventarc.googleapis.com x-goog-quota-user=projects/dollarydoodle-17566
[debug] [2024-07-21T10:27:28.364Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/pubsub.googleapis.com [none]
[debug] [2024-07-21T10:27:28.365Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/pubsub.googleapis.com x-goog-quota-user=projects/dollarydoodle-17566
[debug] [2024-07-21T10:27:28.366Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/storage.googleapis.com [none]
[debug] [2024-07-21T10:27:28.366Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/storage.googleapis.com x-goog-quota-user=projects/dollarydoodle-17566
[debug] [2024-07-21T10:27:29.790Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/eventarc.googleapis.com 200
[debug] [2024-07-21T10:27:29.790Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/eventarc.googleapis.com [omitted]
[info] ✔  functions: required API eventarc.googleapis.com is enabled 
[debug] [2024-07-21T10:27:29.810Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/pubsub.googleapis.com 200
[debug] [2024-07-21T10:27:29.810Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/pubsub.googleapis.com [omitted]
[info] ✔  functions: required API pubsub.googleapis.com is enabled 
[debug] [2024-07-21T10:27:29.811Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/run.googleapis.com 200
[debug] [2024-07-21T10:27:29.811Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/run.googleapis.com [omitted]
[info] ✔  functions: required API run.googleapis.com is enabled 
[debug] [2024-07-21T10:27:29.849Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/storage.googleapis.com 200
[debug] [2024-07-21T10:27:29.849Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/storage.googleapis.com [omitted]
[info] ✔  functions: required API storage.googleapis.com is enabled 
[info] i  functions: generating the service identity for pubsub.googleapis.com... 
[info] i  functions: generating the service identity for eventarc.googleapis.com... 
[debug] [2024-07-21T10:27:29.850Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/862779424947/services/pubsub.googleapis.com:generateServiceIdentity [none]
[debug] [2024-07-21T10:27:29.851Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/862779424947/services/eventarc.googleapis.com:generateServiceIdentity [none]
[debug] [2024-07-21T10:27:30.312Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/862779424947/services/eventarc.googleapis.com:generateServiceIdentity 200
[debug] [2024-07-21T10:27:30.313Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/862779424947/services/eventarc.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-862779424947@gcp-sa-eventarc.iam.gserviceaccount.com","uniqueId":"103053168025137469440"}}
[debug] [2024-07-21T10:27:30.313Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/862779424947/services/pubsub.googleapis.com:generateServiceIdentity 200
[debug] [2024-07-21T10:27:30.313Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/862779424947/services/pubsub.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-862779424947@gcp-sa-pubsub.iam.gserviceaccount.com","uniqueId":"113798306136961303310"}}
[debug] [2024-07-21T10:27:30.316Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/dollarydoodle-17566 [none]
[debug] [2024-07-21T10:27:30.980Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/dollarydoodle-17566 200
[debug] [2024-07-21T10:27:30.980Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/dollarydoodle-17566 {"projectId":"dollarydoodle-17566","projectNumber":"862779424947","displayName":"dollarydoodle","name":"projects/dollarydoodle-17566","resources":{"hostingSite":"dollarydoodle-17566"},"state":"ACTIVE","etag":"1_843cb4c5-68ab-43d5-9074-374d0c79ab17"}
[debug] [2024-07-21T10:27:30.993Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2024-07-21T10:27:32.407Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/functions:generateUploadUrl 200
[debug] [2024-07-21T10:27:32.407Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/gcf-v2-uploads-862779424947-us-central1/caefa60f-f59e-4d2b-8e97-88f9c0fec47e.zip?GoogleAccessId=service-862779424947@gcf-admin-robot.iam.gserviceaccount.com&Expires=1721559452&Signature=hM0uBpli%2BpVdwp7ObJ7L3Bjo70CRbuI5h7vP04E12eBfoF1KUyJEUOmvGMd0XFlUzYo4IqwC9%2F9w3D%2FY9z1Q6hvCt5ZaRoYp6PqVaqmtlbmaRE6l4yi8gp7ixQTR0IU7QOqYw4dRskBRwBlHBB7SGkNz7rlRUX37kE%2FGjmqXgMVjvsYR7ixKQwQOAZ5XvP2xCuIjCBeoPppaIAjORFbUHcBpsjXjtblkSJqPXrY%2FTzvfGr7QA7eFzbcguTNBL1QwYEA4Jff37ZqKvrSekKMwNfbYl8KeHdAgdTmAlvcp1ws%2BFL9AFLbajibzANDCJyipQWAZNx4eVZDSobmE9L7QFg%3D%3D","storageSource":{"bucket":"gcf-v2-uploads-862779424947-us-central1","object":"caefa60f-f59e-4d2b-8e97-88f9c0fec47e.zip"}}
[debug] [2024-07-21T10:27:32.413Z] >>> [apiv2][query] PUT https://storage.googleapis.com/gcf-v2-uploads-862779424947-us-central1/caefa60f-f59e-4d2b-8e97-88f9c0fec47e.zip GoogleAccessId=service-862779424947%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1721559452&Signature=hM0uBpli%2BpVdwp7ObJ7L3Bjo70CRbuI5h7vP04E12eBfoF1KUyJEUOmvGMd0XFlUzYo4IqwC9%2F9w3D%2FY9z1Q6hvCt5ZaRoYp6PqVaqmtlbmaRE6l4yi8gp7ixQTR0IU7QOqYw4dRskBRwBlHBB7SGkNz7rlRUX37kE%2FGjmqXgMVjvsYR7ixKQwQOAZ5XvP2xCuIjCBeoPppaIAjORFbUHcBpsjXjtblkSJqPXrY%2FTzvfGr7QA7eFzbcguTNBL1QwYEA4Jff37ZqKvrSekKMwNfbYl8KeHdAgdTmAlvcp1ws%2BFL9AFLbajibzANDCJyipQWAZNx4eVZDSobmE9L7QFg%3D%3D
[debug] [2024-07-21T10:27:32.413Z] >>> [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-862779424947-us-central1/caefa60f-f59e-4d2b-8e97-88f9c0fec47e.zip [stream]
[debug] [2024-07-21T10:27:33.324Z] <<< [apiv2][status] PUT https://storage.googleapis.com/gcf-v2-uploads-862779424947-us-central1/caefa60f-f59e-4d2b-8e97-88f9c0fec47e.zip 200
[debug] [2024-07-21T10:27:33.324Z] <<< [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-862779424947-us-central1/caefa60f-f59e-4d2b-8e97-88f9c0fec47e.zip [omitted]
[info] ✔  functions: functions folder uploaded successfully 
[info] i  functions: updating Node.js 18 (2nd Gen) function helloWorld(us-central1)... 
[info] i  functions: updating Node.js 18 (2nd Gen) function handleStripeWebhook(us-central1)... 
[debug] [2024-07-21T10:27:33.332Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld updateMask=name%2CbuildConfig.runtime%2CbuildConfig.entryPoint%2CbuildConfig.source.storageSource.bucket%2CbuildConfig.source.storageSource.object%2CbuildConfig.environmentVariables%2CbuildConfig.sourceToken%2CserviceConfig.environmentVariables%2CserviceConfig.ingressSettings%2CserviceConfig.timeoutSeconds%2CserviceConfig.serviceAccountEmail%2CserviceConfig.availableMemory%2CserviceConfig.minInstanceCount%2CserviceConfig.maxInstanceCount%2CserviceConfig.maxInstanceRequestConcurrency%2CserviceConfig.availableCpu%2CserviceConfig.vpcConnector%2CserviceConfig.vpcConnectorEgressSettings%2Clabels%2CbuildConfig.buildEnvironmentVariables
[debug] [2024-07-21T10:27:33.332Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld {"name":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs18","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-uploads-862779424947-us-central1","object":"caefa60f-f59e-4d2b-8e97-88f9c0fec47e.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"afe5c9d89d641d4ae7760c2615b692feaabacbfd"}}
[debug] [2024-07-21T10:27:35.396Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld 200
[debug] [2024-07-21T10:27:35.397Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557654570-61dbf607606e5-652e5632-98a0d8b9","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T10:27:35.223413532Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","verb":"update","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2024-07-21T10:27:35.405Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557654570-61dbf607606e5-652e5632-98a0d8b9 [none]
[debug] [2024-07-21T10:27:36.734Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557654570-61dbf607606e5-652e5632-98a0d8b9 200
[debug] [2024-07-21T10:27:36.734Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557654570-61dbf607606e5-652e5632-98a0d8b9 {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557654570-61dbf607606e5-652e5632-98a0d8b9","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T10:27:35.223413532Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs18","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"helloWorld/function-source.zip","generation":"1721557655175337"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"helloWorld/function-source.zip","generation":"1721545144915018"}},"dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/dollarydoodle-17566/locations/us-central1/services/helloworld","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"862779424947-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"UNKNOWN","labels":{"firebase-functions-hash":"afe5c9d89d641d4ae7760c2615b692feaabacbfd"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/dollarydoodle-17566/locations/us-central1/services/helloworld for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-dollarydoodle-17566.cloudfunctions.net/helloWorld"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/862779424947/locations/us-central1/builds/7c310b92-e431-4481-b298-11f063d87c0c","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/7c310b92-e431-4481-b298-11f063d87c0c?project=862779424947"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":false}
[debug] [2024-07-21T10:27:37.238Z] [update-default-us-central1-helloWorld] Retrying task index 0
[debug] [2024-07-21T10:27:37.241Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557654570-61dbf607606e5-652e5632-98a0d8b9 [none]
[debug] [2024-07-21T10:27:38.595Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557654570-61dbf607606e5-652e5632-98a0d8b9 200
[debug] [2024-07-21T10:27:38.597Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557654570-61dbf607606e5-652e5632-98a0d8b9 {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557654570-61dbf607606e5-652e5632-98a0d8b9","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T10:27:35.223413532Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs18","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"helloWorld/function-source.zip","generation":"1721557655175337"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"helloWorld/function-source.zip","generation":"1721545144915018"}},"dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/dollarydoodle-17566/locations/us-central1/services/helloworld","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"862779424947-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"UNKNOWN","labels":{"firebase-functions-hash":"afe5c9d89d641d4ae7760c2615b692feaabacbfd"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/dollarydoodle-17566/locations/us-central1/services/helloworld for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-dollarydoodle-17566.cloudfunctions.net/helloWorld"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/862779424947/locations/us-central1/builds/7c310b92-e431-4481-b298-11f063d87c0c","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/7c310b92-e431-4481-b298-11f063d87c0c?project=862779424947"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":false}
[debug] [2024-07-21T10:27:39.602Z] [update-default-us-central1-helloWorld] Retrying task index 0
[debug] [2024-07-21T10:27:39.608Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557654570-61dbf607606e5-652e5632-98a0d8b9 [none]
[debug] [2024-07-21T10:27:40.945Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557654570-61dbf607606e5-652e5632-98a0d8b9 200
[debug] [2024-07-21T10:27:40.946Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557654570-61dbf607606e5-652e5632-98a0d8b9 {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557654570-61dbf607606e5-652e5632-98a0d8b9","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T10:27:35.223413532Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs18","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"helloWorld/function-source.zip","generation":"1721557655175337"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"helloWorld/function-source.zip","generation":"1721545144915018"}},"dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/dollarydoodle-17566/locations/us-central1/services/helloworld","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"862779424947-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"UNKNOWN","labels":{"firebase-functions-hash":"afe5c9d89d641d4ae7760c2615b692feaabacbfd"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/dollarydoodle-17566/locations/us-central1/services/helloworld for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-dollarydoodle-17566.cloudfunctions.net/helloWorld"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/862779424947/locations/us-central1/builds/7c310b92-e431-4481-b298-11f063d87c0c","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/7c310b92-e431-4481-b298-11f063d87c0c?project=862779424947"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":false}
[debug] [2024-07-21T10:27:42.951Z] [update-default-us-central1-helloWorld] Retrying task index 0
[debug] [2024-07-21T10:27:42.954Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557654570-61dbf607606e5-652e5632-98a0d8b9 [none]
[debug] [2024-07-21T10:27:44.295Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557654570-61dbf607606e5-652e5632-98a0d8b9 200
[debug] [2024-07-21T10:27:44.295Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557654570-61dbf607606e5-652e5632-98a0d8b9 {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557654570-61dbf607606e5-652e5632-98a0d8b9","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T10:27:35.223413532Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs18","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"helloWorld/function-source.zip","generation":"1721557655175337"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"helloWorld/function-source.zip","generation":"1721545144915018"}},"dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/dollarydoodle-17566/locations/us-central1/services/helloworld","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"862779424947-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"UNKNOWN","labels":{"firebase-functions-hash":"afe5c9d89d641d4ae7760c2615b692feaabacbfd"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/dollarydoodle-17566/locations/us-central1/services/helloworld for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-dollarydoodle-17566.cloudfunctions.net/helloWorld"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/862779424947/locations/us-central1/builds/7c310b92-e431-4481-b298-11f063d87c0c","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/7c310b92-e431-4481-b298-11f063d87c0c?project=862779424947"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":false}
[debug] [2024-07-21T10:27:48.297Z] [update-default-us-central1-helloWorld] Retrying task index 0
[debug] [2024-07-21T10:27:48.304Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557654570-61dbf607606e5-652e5632-98a0d8b9 [none]
[debug] [2024-07-21T10:27:49.735Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557654570-61dbf607606e5-652e5632-98a0d8b9 200
[debug] [2024-07-21T10:27:49.735Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557654570-61dbf607606e5-652e5632-98a0d8b9 {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557654570-61dbf607606e5-652e5632-98a0d8b9","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T10:27:35.223413532Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs18","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"helloWorld/function-source.zip","generation":"1721557655175337"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"helloWorld/function-source.zip","generation":"1721545144915018"}},"dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/dollarydoodle-17566/locations/us-central1/services/helloworld","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"862779424947-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"UNKNOWN","labels":{"firebase-functions-hash":"afe5c9d89d641d4ae7760c2615b692feaabacbfd"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/dollarydoodle-17566/locations/us-central1/services/helloworld for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-dollarydoodle-17566.cloudfunctions.net/helloWorld"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/862779424947/locations/us-central1/builds/7c310b92-e431-4481-b298-11f063d87c0c","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/7c310b92-e431-4481-b298-11f063d87c0c?project=862779424947"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":false}
[debug] [2024-07-21T10:27:57.737Z] [update-default-us-central1-helloWorld] Retrying task index 0
[debug] [2024-07-21T10:27:57.739Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557654570-61dbf607606e5-652e5632-98a0d8b9 [none]
[debug] [2024-07-21T10:27:59.193Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557654570-61dbf607606e5-652e5632-98a0d8b9 200
[debug] [2024-07-21T10:27:59.193Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557654570-61dbf607606e5-652e5632-98a0d8b9 {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557654570-61dbf607606e5-652e5632-98a0d8b9","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T10:27:35.223413532Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs18","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"helloWorld/function-source.zip","generation":"1721557655175337"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"helloWorld/function-source.zip","generation":"1721545144915018"}},"dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/dollarydoodle-17566/locations/us-central1/services/helloworld","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"862779424947-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"UNKNOWN","labels":{"firebase-functions-hash":"afe5c9d89d641d4ae7760c2615b692feaabacbfd"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/dollarydoodle-17566/locations/us-central1/services/helloworld for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-dollarydoodle-17566.cloudfunctions.net/helloWorld"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/862779424947/locations/us-central1/builds/7c310b92-e431-4481-b298-11f063d87c0c","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/7c310b92-e431-4481-b298-11f063d87c0c?project=862779424947"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":false}
[debug] [2024-07-21T10:28:09.197Z] [update-default-us-central1-helloWorld] Retrying task index 0
[debug] [2024-07-21T10:28:09.207Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557654570-61dbf607606e5-652e5632-98a0d8b9 [none]
[debug] [2024-07-21T10:28:10.778Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557654570-61dbf607606e5-652e5632-98a0d8b9 200
[debug] [2024-07-21T10:28:10.785Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557654570-61dbf607606e5-652e5632-98a0d8b9 {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557654570-61dbf607606e5-652e5632-98a0d8b9","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T10:27:35.223413532Z","endTime":"2024-07-21T10:28:07.359683979Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs18","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"helloWorld/function-source.zip","generation":"1721557655175337"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"helloWorld/function-source.zip","generation":"1721545144915018"}},"dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/dollarydoodle-17566/locations/us-central1/services/helloworld","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"862779424947-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"UNKNOWN","labels":{"firebase-functions-hash":"afe5c9d89d641d4ae7760c2615b692feaabacbfd"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/dollarydoodle-17566/locations/us-central1/services/helloworld for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-dollarydoodle-17566.cloudfunctions.net/helloWorld"},"stages":[{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":true,"error":{"code":3,"message":"Build failed with status: FAILURE and message: This project is using pnpm but you have not included the Functions Framework in your dependencies. Please add it by running: 'pnpm add @google-cloud/functions-framework'.. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/7c310b92-e431-4481-b298-11f063d87c0c?project=862779424947."}}
[debug] [2024-07-21T10:28:10.786Z] Got source token undefined for region us-central1
[debug] [2024-07-21T10:28:10.794Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/functions/handleStripeWebhook updateMask=name%2CbuildConfig.runtime%2CbuildConfig.entryPoint%2CbuildConfig.source.storageSource.bucket%2CbuildConfig.source.storageSource.object%2CbuildConfig.environmentVariables%2CbuildConfig.sourceToken%2CserviceConfig.environmentVariables%2CserviceConfig.ingressSettings%2CserviceConfig.timeoutSeconds%2CserviceConfig.serviceAccountEmail%2CserviceConfig.availableMemory%2CserviceConfig.minInstanceCount%2CserviceConfig.maxInstanceCount%2CserviceConfig.maxInstanceRequestConcurrency%2CserviceConfig.availableCpu%2CserviceConfig.vpcConnector%2CserviceConfig.vpcConnectorEgressSettings%2Clabels%2CbuildConfig.buildEnvironmentVariables
[debug] [2024-07-21T10:28:10.794Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/functions/handleStripeWebhook {"name":"projects/dollarydoodle-17566/locations/us-central1/functions/handleStripeWebhook","buildConfig":{"runtime":"nodejs18","entryPoint":"handleStripeWebhook","source":{"storageSource":{"bucket":"gcf-v2-uploads-862779424947-us-central1","object":"caefa60f-f59e-4d2b-8e97-88f9c0fec47e.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/handleStripeWebhook","FUNCTION_TARGET":"handleStripeWebhook"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"afe5c9d89d641d4ae7760c2615b692feaabacbfd"}}
[error] Build failed with status: FAILURE and message: This project is using pnpm but you have not included the Functions Framework in your dependencies. Please add it by running: 'pnpm add @google-cloud/functions-framework'.. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/7c310b92-e431-4481-b298-11f063d87c0c?project=862779424947.
[debug] [2024-07-21T10:28:13.004Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/functions/handleStripeWebhook 200
[debug] [2024-07-21T10:28:13.005Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/functions/handleStripeWebhook {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557692115-61dbf62b2ea6b-ffdb30eb-281103fb","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T10:28:12.866638515Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/handleStripeWebhook","verb":"update","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2024-07-21T10:28:13.006Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557692115-61dbf62b2ea6b-ffdb30eb-281103fb [none]
[debug] [2024-07-21T10:28:14.368Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557692115-61dbf62b2ea6b-ffdb30eb-281103fb 200
[debug] [2024-07-21T10:28:14.368Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557692115-61dbf62b2ea6b-ffdb30eb-281103fb {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557692115-61dbf62b2ea6b-ffdb30eb-281103fb","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T10:28:12.866638515Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/handleStripeWebhook","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/dollarydoodle-17566/locations/us-central1/functions/handleStripeWebhook","buildConfig":{"runtime":"nodejs18","entryPoint":"handleStripeWebhook","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"handleStripeWebhook/function-source.zip","generation":"1721557692826796"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"handleStripeWebhook/function-source.zip","generation":"1721557507043851"}},"dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/dollarydoodle-17566/locations/us-central1/services/handlestripewebhook","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/handleStripeWebhook","FUNCTION_TARGET":"handleStripeWebhook","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"862779424947-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"firebase-functions-hash":"afe5c9d89d641d4ae7760c2615b692feaabacbfd"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/dollarydoodle-17566/locations/us-central1/services/handlestripewebhook for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-dollarydoodle-17566.cloudfunctions.net/handleStripeWebhook"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/862779424947/locations/us-central1/builds/3a68bd7b-c2fb-48a8-96cd-d8922db25d1b","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/3a68bd7b-c2fb-48a8-96cd-d8922db25d1b?project=862779424947"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":false}
[debug] [2024-07-21T10:28:14.870Z] [update-default-us-central1-handleStripeWebhook] Retrying task index 0
[debug] [2024-07-21T10:28:14.871Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557692115-61dbf62b2ea6b-ffdb30eb-281103fb [none]
[debug] [2024-07-21T10:28:16.253Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557692115-61dbf62b2ea6b-ffdb30eb-281103fb 200
[debug] [2024-07-21T10:28:16.253Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557692115-61dbf62b2ea6b-ffdb30eb-281103fb {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557692115-61dbf62b2ea6b-ffdb30eb-281103fb","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T10:28:12.866638515Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/handleStripeWebhook","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/dollarydoodle-17566/locations/us-central1/functions/handleStripeWebhook","buildConfig":{"runtime":"nodejs18","entryPoint":"handleStripeWebhook","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"handleStripeWebhook/function-source.zip","generation":"1721557692826796"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"handleStripeWebhook/function-source.zip","generation":"1721557507043851"}},"dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/dollarydoodle-17566/locations/us-central1/services/handlestripewebhook","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/handleStripeWebhook","FUNCTION_TARGET":"handleStripeWebhook","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"862779424947-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"firebase-functions-hash":"afe5c9d89d641d4ae7760c2615b692feaabacbfd"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/dollarydoodle-17566/locations/us-central1/services/handlestripewebhook for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-dollarydoodle-17566.cloudfunctions.net/handleStripeWebhook"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/862779424947/locations/us-central1/builds/3a68bd7b-c2fb-48a8-96cd-d8922db25d1b","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/3a68bd7b-c2fb-48a8-96cd-d8922db25d1b?project=862779424947"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":false}
[debug] [2024-07-21T10:28:17.264Z] [update-default-us-central1-handleStripeWebhook] Retrying task index 0
[debug] [2024-07-21T10:28:17.270Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557692115-61dbf62b2ea6b-ffdb30eb-281103fb [none]
[debug] [2024-07-21T10:28:18.611Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557692115-61dbf62b2ea6b-ffdb30eb-281103fb 200
[debug] [2024-07-21T10:28:18.612Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557692115-61dbf62b2ea6b-ffdb30eb-281103fb {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557692115-61dbf62b2ea6b-ffdb30eb-281103fb","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T10:28:12.866638515Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/handleStripeWebhook","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/dollarydoodle-17566/locations/us-central1/functions/handleStripeWebhook","buildConfig":{"runtime":"nodejs18","entryPoint":"handleStripeWebhook","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"handleStripeWebhook/function-source.zip","generation":"1721557692826796"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"handleStripeWebhook/function-source.zip","generation":"1721557507043851"}},"dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/dollarydoodle-17566/locations/us-central1/services/handlestripewebhook","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/handleStripeWebhook","FUNCTION_TARGET":"handleStripeWebhook","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"862779424947-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"firebase-functions-hash":"afe5c9d89d641d4ae7760c2615b692feaabacbfd"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/dollarydoodle-17566/locations/us-central1/services/handlestripewebhook for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-dollarydoodle-17566.cloudfunctions.net/handleStripeWebhook"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/862779424947/locations/us-central1/builds/3a68bd7b-c2fb-48a8-96cd-d8922db25d1b","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/3a68bd7b-c2fb-48a8-96cd-d8922db25d1b?project=862779424947"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":false}
[debug] [2024-07-21T10:28:20.614Z] [update-default-us-central1-handleStripeWebhook] Retrying task index 0
[debug] [2024-07-21T10:28:20.616Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557692115-61dbf62b2ea6b-ffdb30eb-281103fb [none]
[debug] [2024-07-21T10:28:21.939Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557692115-61dbf62b2ea6b-ffdb30eb-281103fb 200
[debug] [2024-07-21T10:28:21.939Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557692115-61dbf62b2ea6b-ffdb30eb-281103fb {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557692115-61dbf62b2ea6b-ffdb30eb-281103fb","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T10:28:12.866638515Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/handleStripeWebhook","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/dollarydoodle-17566/locations/us-central1/functions/handleStripeWebhook","buildConfig":{"runtime":"nodejs18","entryPoint":"handleStripeWebhook","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"handleStripeWebhook/function-source.zip","generation":"1721557692826796"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"handleStripeWebhook/function-source.zip","generation":"1721557507043851"}},"dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/dollarydoodle-17566/locations/us-central1/services/handlestripewebhook","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/handleStripeWebhook","FUNCTION_TARGET":"handleStripeWebhook","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"862779424947-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"firebase-functions-hash":"afe5c9d89d641d4ae7760c2615b692feaabacbfd"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/dollarydoodle-17566/locations/us-central1/services/handlestripewebhook for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-dollarydoodle-17566.cloudfunctions.net/handleStripeWebhook"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/862779424947/locations/us-central1/builds/3a68bd7b-c2fb-48a8-96cd-d8922db25d1b","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/3a68bd7b-c2fb-48a8-96cd-d8922db25d1b?project=862779424947"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":false}
[debug] [2024-07-21T10:28:25.947Z] [update-default-us-central1-handleStripeWebhook] Retrying task index 0
[debug] [2024-07-21T10:28:25.951Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557692115-61dbf62b2ea6b-ffdb30eb-281103fb [none]
[debug] [2024-07-21T10:28:27.313Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557692115-61dbf62b2ea6b-ffdb30eb-281103fb 200
[debug] [2024-07-21T10:28:27.313Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557692115-61dbf62b2ea6b-ffdb30eb-281103fb {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557692115-61dbf62b2ea6b-ffdb30eb-281103fb","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T10:28:12.866638515Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/handleStripeWebhook","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/dollarydoodle-17566/locations/us-central1/functions/handleStripeWebhook","buildConfig":{"runtime":"nodejs18","entryPoint":"handleStripeWebhook","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"handleStripeWebhook/function-source.zip","generation":"1721557692826796"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"handleStripeWebhook/function-source.zip","generation":"1721557507043851"}},"dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/dollarydoodle-17566/locations/us-central1/services/handlestripewebhook","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/handleStripeWebhook","FUNCTION_TARGET":"handleStripeWebhook","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"862779424947-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"firebase-functions-hash":"afe5c9d89d641d4ae7760c2615b692feaabacbfd"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/dollarydoodle-17566/locations/us-central1/services/handlestripewebhook for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-dollarydoodle-17566.cloudfunctions.net/handleStripeWebhook"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/862779424947/locations/us-central1/builds/3a68bd7b-c2fb-48a8-96cd-d8922db25d1b","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/3a68bd7b-c2fb-48a8-96cd-d8922db25d1b?project=862779424947"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":false}
[debug] [2024-07-21T10:28:35.315Z] [update-default-us-central1-handleStripeWebhook] Retrying task index 0
[debug] [2024-07-21T10:28:35.319Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557692115-61dbf62b2ea6b-ffdb30eb-281103fb [none]
[debug] [2024-07-21T10:28:36.741Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557692115-61dbf62b2ea6b-ffdb30eb-281103fb 200
[debug] [2024-07-21T10:28:36.741Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557692115-61dbf62b2ea6b-ffdb30eb-281103fb {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557692115-61dbf62b2ea6b-ffdb30eb-281103fb","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T10:28:12.866638515Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/handleStripeWebhook","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/dollarydoodle-17566/locations/us-central1/functions/handleStripeWebhook","buildConfig":{"runtime":"nodejs18","entryPoint":"handleStripeWebhook","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"handleStripeWebhook/function-source.zip","generation":"1721557692826796"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"handleStripeWebhook/function-source.zip","generation":"1721557507043851"}},"dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/dollarydoodle-17566/locations/us-central1/services/handlestripewebhook","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/handleStripeWebhook","FUNCTION_TARGET":"handleStripeWebhook","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"862779424947-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"firebase-functions-hash":"afe5c9d89d641d4ae7760c2615b692feaabacbfd"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/dollarydoodle-17566/locations/us-central1/services/handlestripewebhook for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-dollarydoodle-17566.cloudfunctions.net/handleStripeWebhook"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/862779424947/locations/us-central1/builds/3a68bd7b-c2fb-48a8-96cd-d8922db25d1b","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/3a68bd7b-c2fb-48a8-96cd-d8922db25d1b?project=862779424947"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":false}
[debug] [2024-07-21T10:28:46.742Z] [update-default-us-central1-handleStripeWebhook] Retrying task index 0
[debug] [2024-07-21T10:28:46.754Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557692115-61dbf62b2ea6b-ffdb30eb-281103fb [none]
[debug] [2024-07-21T10:28:48.220Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557692115-61dbf62b2ea6b-ffdb30eb-281103fb 200
[debug] [2024-07-21T10:28:48.221Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557692115-61dbf62b2ea6b-ffdb30eb-281103fb {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557692115-61dbf62b2ea6b-ffdb30eb-281103fb","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T10:28:12.866638515Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/handleStripeWebhook","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/dollarydoodle-17566/locations/us-central1/functions/handleStripeWebhook","buildConfig":{"runtime":"nodejs18","entryPoint":"handleStripeWebhook","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"handleStripeWebhook/function-source.zip","generation":"1721557692826796"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"handleStripeWebhook/function-source.zip","generation":"1721557507043851"}},"dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/dollarydoodle-17566/locations/us-central1/services/handlestripewebhook","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/handleStripeWebhook","FUNCTION_TARGET":"handleStripeWebhook","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"862779424947-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"firebase-functions-hash":"afe5c9d89d641d4ae7760c2615b692feaabacbfd"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/dollarydoodle-17566/locations/us-central1/services/handlestripewebhook for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-dollarydoodle-17566.cloudfunctions.net/handleStripeWebhook"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/862779424947/locations/us-central1/builds/3a68bd7b-c2fb-48a8-96cd-d8922db25d1b","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/3a68bd7b-c2fb-48a8-96cd-d8922db25d1b?project=862779424947"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":false}
[debug] [2024-07-21T10:28:58.223Z] [update-default-us-central1-handleStripeWebhook] Retrying task index 0
[debug] [2024-07-21T10:28:58.228Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557692115-61dbf62b2ea6b-ffdb30eb-281103fb [none]
[debug] [2024-07-21T10:28:59.641Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557692115-61dbf62b2ea6b-ffdb30eb-281103fb 200
[debug] [2024-07-21T10:28:59.641Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557692115-61dbf62b2ea6b-ffdb30eb-281103fb {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557692115-61dbf62b2ea6b-ffdb30eb-281103fb","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T10:28:12.866638515Z","endTime":"2024-07-21T10:28:48.268933386Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/handleStripeWebhook","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/dollarydoodle-17566/locations/us-central1/functions/handleStripeWebhook","buildConfig":{"runtime":"nodejs18","entryPoint":"handleStripeWebhook","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"handleStripeWebhook/function-source.zip","generation":"1721557692826796"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"handleStripeWebhook/function-source.zip","generation":"1721557507043851"}},"dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/dollarydoodle-17566/locations/us-central1/services/handlestripewebhook","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/handleStripeWebhook","FUNCTION_TARGET":"handleStripeWebhook","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"862779424947-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"FAILED","labels":{"firebase-functions-hash":"afe5c9d89d641d4ae7760c2615b692feaabacbfd"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/dollarydoodle-17566/locations/us-central1/services/handlestripewebhook for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-dollarydoodle-17566.cloudfunctions.net/handleStripeWebhook"},"stages":[{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":true,"error":{"code":3,"message":"Build failed with status: FAILURE and message: This project is using pnpm but you have not included the Functions Framework in your dependencies. Please add it by running: 'pnpm add @google-cloud/functions-framework'.. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/3a68bd7b-c2fb-48a8-96cd-d8922db25d1b?project=862779424947."}}
[debug] [2024-07-21T10:28:59.641Z] Got source token undefined for region us-central1
[error] Build failed with status: FAILURE and message: This project is using pnpm but you have not included the Functions Framework in your dependencies. Please add it by running: 'pnpm add @google-cloud/functions-framework'.. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/3a68bd7b-c2fb-48a8-96cd-d8922db25d1b?project=862779424947.
[debug] [2024-07-21T10:28:59.646Z] Total Function Deployment time: 86313
[debug] [2024-07-21T10:28:59.646Z] 2 Functions Deployed
[debug] [2024-07-21T10:28:59.646Z] 2 Functions Errored
[debug] [2024-07-21T10:28:59.646Z] 0 Function Deployments Aborted
[debug] [2024-07-21T10:28:59.646Z] Average Function Deployment time: 61927
[info] 
[info] Functions deploy had errors with the following functions:
	handleStripeWebhook(us-central1)
	helloWorld(us-central1)
[debug] [2024-07-21T10:28:59.647Z] Not printing URL for HTTPS function. Typically this means it didn't match a filter or we failed deployment
[debug] [2024-07-21T10:28:59.647Z] Not printing URL for HTTPS function. Typically this means it didn't match a filter or we failed deployment
[info] i  functions: cleaning up build files... 
[debug] [2024-07-21T10:28:59.649Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts/packages/hello_world [none]
[debug] [2024-07-21T10:28:59.650Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts/packages/handle_stripe_webhook [none]
[debug] [2024-07-21T10:28:59.652Z] >>> [apiv2][query] GET https://us.gcr.io/v2/dollarydoodle-17566/gcf/us-central1/tags/list [none]
[debug] [2024-07-21T10:29:00.129Z] <<< [apiv2][status] GET https://us.gcr.io/v2/dollarydoodle-17566/gcf/us-central1/tags/list 404
[debug] [2024-07-21T10:29:00.130Z] <<< [apiv2][body] GET https://us.gcr.io/v2/dollarydoodle-17566/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-07-21T10:29:00.134Z] Failed docker command with error  HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"HTTP Error: 404, Not Found","status":404}
[debug] [2024-07-21T10:29:00.141Z] >>> [apiv2][query] GET https://us.gcr.io/v2/dollarydoodle-17566/gcf/us-central1/tags/list [none]
[debug] [2024-07-21T10:29:00.496Z] <<< [apiv2][status] GET https://us.gcr.io/v2/dollarydoodle-17566/gcf/us-central1/tags/list 404
[debug] [2024-07-21T10:29:00.497Z] <<< [apiv2][body] GET https://us.gcr.io/v2/dollarydoodle-17566/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-07-21T10:29:00.498Z] Failed docker command with error  HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"HTTP Error: 404, Not Found","status":404}
[debug] [2024-07-21T10:29:00.601Z] >>> [apiv2][query] GET https://us.gcr.io/v2/dollarydoodle-17566/gcf/us-central1/tags/list [none]
[debug] [2024-07-21T10:29:00.955Z] <<< [apiv2][status] GET https://us.gcr.io/v2/dollarydoodle-17566/gcf/us-central1/tags/list 404
[debug] [2024-07-21T10:29:00.957Z] <<< [apiv2][body] GET https://us.gcr.io/v2/dollarydoodle-17566/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-07-21T10:29:00.958Z] Failed docker command with error  HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"HTTP Error: 404, Not Found","status":404}
[debug] [2024-07-21T10:29:01.102Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts/packages/hello_world 404
[debug] [2024-07-21T10:29:01.103Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts/packages/hello_world {"error":{"code":404,"message":"Package \"projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts/packages/hello_world\" was not found.","status":"NOT_FOUND"}}
[debug] [2024-07-21T10:29:01.139Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts/packages/handle_stripe_webhook 404
[debug] [2024-07-21T10:29:01.139Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts/packages/handle_stripe_webhook {"error":{"code":404,"message":"Package \"projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts/packages/handle_stripe_webhook\" was not found.","status":"NOT_FOUND"}}
[warn] ⚠  functions: Unhandled error cleaning up build images. This could result in a small monthly bill if not corrected. You can attempt to delete these images by redeploying or you can delete them manually at https://console.cloud.google.com/gcr/images/dollarydoodle-17566/us/gcf 
[debug] [2024-07-21T10:29:01.141Z] Functions deploy failed.
[debug] [2024-07-21T10:29:01.141Z] {
  "endpoint": {
    "id": "helloWorld",
    "project": "dollarydoodle-17566",
    "region": "us-central1",
    "entryPoint": "helloWorld",
    "platform": "gcfv2",
    "runtime": "nodejs18",
    "httpsTrigger": {},
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "ingressSettings": null,
    "availableMemoryMb": null,
    "serviceAccount": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "concurrency": 80,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}",
      "GCLOUD_PROJECT": "dollarydoodle-17566",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/dollarydoodle-17566/locations/us-central1/services/helloWorld"
    },
    "codebase": "default",
    "securityLevel": "SECURE_ALWAYS",
    "cpu": 1,
    "targetedByOnly": false,
    "hash": "afe5c9d89d641d4ae7760c2615b692feaabacbfd"
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Build failed with status: FAILURE and message: This project is using pnpm but you have not included the Functions Framework in your dependencies. Please add it by running: 'pnpm add @google-cloud/functions-framework'.. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/7c310b92-e431-4481-b298-11f063d87c0c?project=862779424947.",
    "original": {
      "code": 3,
      "message": "Build failed with status: FAILURE and message: This project is using pnpm but you have not included the Functions Framework in your dependencies. Please add it by running: 'pnpm add @google-cloud/functions-framework'.. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/7c310b92-e431-4481-b298-11f063d87c0c?project=862779424947."
    },
    "status": 3,
    "code": 3
  }
}
[debug] [2024-07-21T10:29:01.141Z] {
  "endpoint": {
    "id": "handleStripeWebhook",
    "project": "dollarydoodle-17566",
    "region": "us-central1",
    "entryPoint": "handleStripeWebhook",
    "platform": "gcfv2",
    "runtime": "nodejs18",
    "httpsTrigger": {},
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "ingressSettings": null,
    "availableMemoryMb": null,
    "serviceAccount": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "concurrency": 80,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}",
      "GCLOUD_PROJECT": "dollarydoodle-17566",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/dollarydoodle-17566/locations/us-central1/services/handleStripeWebhook"
    },
    "codebase": "default",
    "securityLevel": "SECURE_ALWAYS",
    "cpu": 1,
    "targetedByOnly": false,
    "hash": "afe5c9d89d641d4ae7760c2615b692feaabacbfd"
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Build failed with status: FAILURE and message: This project is using pnpm but you have not included the Functions Framework in your dependencies. Please add it by running: 'pnpm add @google-cloud/functions-framework'.. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/3a68bd7b-c2fb-48a8-96cd-d8922db25d1b?project=862779424947.",
    "original": {
      "code": 3,
      "message": "Build failed with status: FAILURE and message: This project is using pnpm but you have not included the Functions Framework in your dependencies. Please add it by running: 'pnpm add @google-cloud/functions-framework'.. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/3a68bd7b-c2fb-48a8-96cd-d8922db25d1b?project=862779424947."
    },
    "status": 3,
    "code": 3
  }
}
[error] Error: There was an error deploying functions:
[error] - Error Failed to update function helloWorld in region us-central1
[error] - Error Failed to update function handleStripeWebhook in region us-central1
[debug] [2024-07-21T10:31:03.328Z] ----------------------------------------------------------------------
[debug] [2024-07-21T10:31:03.386Z] Command:       /opt/homebrew/Cellar/node/22.3.0/bin/node /opt/homebrew/bin/firebase deploy --only functions
[debug] [2024-07-21T10:31:03.387Z] CLI Version:   13.13.3
[debug] [2024-07-21T10:31:03.387Z] Platform:      darwin
[debug] [2024-07-21T10:31:03.387Z] Node Version:  v22.3.0
[debug] [2024-07-21T10:31:03.387Z] Time:          Sun Jul 21 2024 17:31:03 GMT+0700 (Indochina Time)
[debug] [2024-07-21T10:31:03.387Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-07-21T10:31:03.466Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-07-21T10:31:03.467Z] > authorizing via signed-in user (pathonscript@gmail.com)
[debug] [2024-07-21T10:31:03.467Z] [iam] checking project dollarydoodle-17566 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2024-07-21T10:31:03.468Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/dollarydoodle-17566:testIamPermissions [none]
[debug] [2024-07-21T10:31:03.469Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/dollarydoodle-17566:testIamPermissions x-goog-quota-user=projects/dollarydoodle-17566
[debug] [2024-07-21T10:31:03.469Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/dollarydoodle-17566:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-07-21T10:31:04.798Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/dollarydoodle-17566:testIamPermissions 200
[debug] [2024-07-21T10:31:04.798Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/dollarydoodle-17566:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-07-21T10:31:04.799Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/dollarydoodle-17566/serviceAccounts/dollarydoodle-17566@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2024-07-21T10:31:04.799Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/dollarydoodle-17566/serviceAccounts/dollarydoodle-17566@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2024-07-21T10:31:06.257Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/dollarydoodle-17566/serviceAccounts/dollarydoodle-17566@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2024-07-21T10:31:06.258Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/dollarydoodle-17566/serviceAccounts/dollarydoodle-17566@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'dollarydoodle-17566'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run build
[info] ✔  functions: Finished running predeploy script. 
[debug] [2024-07-21T10:31:17.839Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/dollarydoodle-17566 [none]
[debug] [2024-07-21T10:31:18.295Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/dollarydoodle-17566 200
[debug] [2024-07-21T10:31:18.295Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/dollarydoodle-17566 {"projectId":"dollarydoodle-17566","projectNumber":"862779424947","displayName":"dollarydoodle","name":"projects/dollarydoodle-17566","resources":{"hostingSite":"dollarydoodle-17566"},"state":"ACTIVE","etag":"1_843cb4c5-68ab-43d5-9074-374d0c79ab17"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2024-07-21T10:31:18.299Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/cloudfunctions.googleapis.com [none]
[debug] [2024-07-21T10:31:18.300Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/dollarydoodle-17566
[debug] [2024-07-21T10:31:18.301Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/runtimeconfig.googleapis.com [none]
[debug] [2024-07-21T10:31:18.301Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/dollarydoodle-17566
[debug] [2024-07-21T10:31:18.302Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/cloudbuild.googleapis.com [none]
[debug] [2024-07-21T10:31:18.302Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/cloudbuild.googleapis.com x-goog-quota-user=projects/dollarydoodle-17566
[debug] [2024-07-21T10:31:18.305Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/artifactregistry.googleapis.com [none]
[debug] [2024-07-21T10:31:18.305Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/artifactregistry.googleapis.com x-goog-quota-user=projects/dollarydoodle-17566
[debug] [2024-07-21T10:31:19.819Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/runtimeconfig.googleapis.com 200
[debug] [2024-07-21T10:31:19.820Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/runtimeconfig.googleapis.com [omitted]
[debug] [2024-07-21T10:31:19.822Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/cloudfunctions.googleapis.com 200
[debug] [2024-07-21T10:31:19.822Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2024-07-21T10:31:19.829Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/artifactregistry.googleapis.com 200
[debug] [2024-07-21T10:31:19.829Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2024-07-21T10:31:19.832Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/cloudbuild.googleapis.com 200
[debug] [2024-07-21T10:31:19.832Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2024-07-21T10:31:19.833Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/dollarydoodle-17566/adminSdkConfig [none]
[debug] [2024-07-21T10:31:20.155Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/dollarydoodle-17566/adminSdkConfig 200
[debug] [2024-07-21T10:31:20.155Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/dollarydoodle-17566/adminSdkConfig {"projectId":"dollarydoodle-17566","storageBucket":"dollarydoodle-17566.appspot.com"}
[debug] [2024-07-21T10:31:20.156Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/dollarydoodle-17566/configs [none]
[debug] [2024-07-21T10:31:20.703Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/dollarydoodle-17566/configs 200
[debug] [2024-07-21T10:31:20.703Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/dollarydoodle-17566/configs {}
[debug] [2024-07-21T10:31:20.704Z] Validating nodejs source
[debug] [2024-07-21T10:31:21.749Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "@google-cloud/functions-framework": "^3.4.1",
    "firebase-admin": "^12.1.0",
    "firebase-functions": "^5.0.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2024-07-21T10:31:21.749Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2024-07-21T10:31:21.751Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-07-21T10:31:21.759Z] Found firebase-functions binary at '/Users/patato/Documents/dollaridoodle/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8634

[debug] [2024-07-21T10:31:24.127Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"helloWorld"},"handleStripeWebhook":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"handleStripeWebhook"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged /Users/patato/Documents/dollaridoodle/functions (59.61 KB) for uploading 
[debug] [2024-07-21T10:31:29.303Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/dollarydoodle-17566/locations/-/functions [none]
[debug] [2024-07-21T10:31:30.211Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/dollarydoodle-17566/locations/-/functions 200
[debug] [2024-07-21T10:31:30.212Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/dollarydoodle-17566/locations/-/functions {}
[debug] [2024-07-21T10:31:30.217Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2024-07-21T10:31:31.849Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/-/functions 200
[debug] [2024-07-21T10:31:31.853Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/-/functions {"functions":[{"name":"projects/dollarydoodle-17566/locations/us-central1/functions/stripeWebhook","buildConfig":{"build":"projects/862779424947/locations/us-central1/builds/e982922e-a8c6-42ad-9770-4ecd0e32acd2","runtime":"nodejs18","entryPoint":"stripeWebhook","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"stripeWebhook/function-source.zip","generation":"1721545170954022"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"stripeWebhook/function-source.zip","generation":"1721545170954022"}},"dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"state":"FAILED","updateTime":"2024-07-21T07:00:00.492653659Z","labels":{"firebase-functions-hash":"03883012075a8fcfcbcf783008b548bfef1b474b","deployment-tool":"cli-firebase"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/dollarydoodle-17566/locations/us-central1/services/stripewebhook for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-dollarydoodle-17566.cloudfunctions.net/stripeWebhook","createTime":"2024-07-21T06:59:31.251970967Z"},{"name":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","buildConfig":{"build":"projects/862779424947/locations/us-central1/builds/02f146c3-f5af-495d-933c-0017dd3de065","runtime":"nodejs18","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"helloWorld/function-source.zip","generation":"1721545144915018"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"helloWorld/function-source.zip","generation":"1721545144915018"}},"dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"state":"UNKNOWN","updateTime":"2024-07-21T10:28:07.367424377Z","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"afe5c9d89d641d4ae7760c2615b692feaabacbfd"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/dollarydoodle-17566/locations/us-central1/services/helloworld for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-dollarydoodle-17566.cloudfunctions.net/helloWorld","createTime":"2024-07-21T06:59:05.167342492Z"},{"name":"projects/dollarydoodle-17566/locations/us-central1/functions/handleStripeWebhook","buildConfig":{"build":"projects/862779424947/locations/us-central1/builds/e46155e8-6e1f-4f7c-8b54-ae3b8de3092a","runtime":"nodejs18","entryPoint":"handleStripeWebhook","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"handleStripeWebhook/function-source.zip","generation":"1721557507043851"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"handleStripeWebhook/function-source.zip","generation":"1721557507043851"}},"dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"state":"UNKNOWN","updateTime":"2024-07-21T10:28:48.277523262Z","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"afe5c9d89d641d4ae7760c2615b692feaabacbfd"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/dollarydoodle-17566/locations/us-central1/services/handlestripewebhook for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-dollarydoodle-17566.cloudfunctions.net/handleStripeWebhook","createTime":"2024-07-21T10:25:07.281547683Z"}]}
[info] i  functions: ensuring required API run.googleapis.com is enabled... 
[info] i  functions: ensuring required API eventarc.googleapis.com is enabled... 
[info] i  functions: ensuring required API pubsub.googleapis.com is enabled... 
[info] i  functions: ensuring required API storage.googleapis.com is enabled... 
[debug] [2024-07-21T10:31:31.867Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/run.googleapis.com [none]
[debug] [2024-07-21T10:31:31.867Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/run.googleapis.com x-goog-quota-user=projects/dollarydoodle-17566
[debug] [2024-07-21T10:31:31.872Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/eventarc.googleapis.com [none]
[debug] [2024-07-21T10:31:31.874Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/eventarc.googleapis.com x-goog-quota-user=projects/dollarydoodle-17566
[debug] [2024-07-21T10:31:31.876Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/pubsub.googleapis.com [none]
[debug] [2024-07-21T10:31:31.876Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/pubsub.googleapis.com x-goog-quota-user=projects/dollarydoodle-17566
[debug] [2024-07-21T10:31:31.881Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/storage.googleapis.com [none]
[debug] [2024-07-21T10:31:31.881Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/storage.googleapis.com x-goog-quota-user=projects/dollarydoodle-17566
[debug] [2024-07-21T10:31:33.404Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/eventarc.googleapis.com 200
[debug] [2024-07-21T10:31:33.405Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/eventarc.googleapis.com [omitted]
[info] ✔  functions: required API eventarc.googleapis.com is enabled 
[debug] [2024-07-21T10:31:33.407Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/pubsub.googleapis.com 200
[debug] [2024-07-21T10:31:33.407Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/pubsub.googleapis.com [omitted]
[info] ✔  functions: required API pubsub.googleapis.com is enabled 
[debug] [2024-07-21T10:31:33.413Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/run.googleapis.com 200
[debug] [2024-07-21T10:31:33.413Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/run.googleapis.com [omitted]
[info] ✔  functions: required API run.googleapis.com is enabled 
[debug] [2024-07-21T10:31:33.416Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/storage.googleapis.com 200
[debug] [2024-07-21T10:31:33.417Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/dollarydoodle-17566/services/storage.googleapis.com [omitted]
[info] ✔  functions: required API storage.googleapis.com is enabled 
[info] i  functions: generating the service identity for pubsub.googleapis.com... 
[info] i  functions: generating the service identity for eventarc.googleapis.com... 
[debug] [2024-07-21T10:31:33.418Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/862779424947/services/pubsub.googleapis.com:generateServiceIdentity [none]
[debug] [2024-07-21T10:31:33.418Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/862779424947/services/eventarc.googleapis.com:generateServiceIdentity [none]
[debug] [2024-07-21T10:31:33.847Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/862779424947/services/eventarc.googleapis.com:generateServiceIdentity 200
[debug] [2024-07-21T10:31:33.847Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/862779424947/services/eventarc.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-862779424947@gcp-sa-eventarc.iam.gserviceaccount.com","uniqueId":"103053168025137469440"}}
[debug] [2024-07-21T10:31:33.854Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/862779424947/services/pubsub.googleapis.com:generateServiceIdentity 200
[debug] [2024-07-21T10:31:33.855Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/862779424947/services/pubsub.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-862779424947@gcp-sa-pubsub.iam.gserviceaccount.com","uniqueId":"113798306136961303310"}}
[debug] [2024-07-21T10:31:33.859Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/dollarydoodle-17566 [none]
[debug] [2024-07-21T10:31:34.245Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/dollarydoodle-17566 200
[debug] [2024-07-21T10:31:34.245Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/dollarydoodle-17566 {"projectId":"dollarydoodle-17566","projectNumber":"862779424947","displayName":"dollarydoodle","name":"projects/dollarydoodle-17566","resources":{"hostingSite":"dollarydoodle-17566"},"state":"ACTIVE","etag":"1_843cb4c5-68ab-43d5-9074-374d0c79ab17"}
[debug] [2024-07-21T10:31:34.247Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2024-07-21T10:31:35.704Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/functions:generateUploadUrl 200
[debug] [2024-07-21T10:31:35.706Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/gcf-v2-uploads-862779424947-us-central1/f809765f-93cb-42e8-aa97-19bb82d26742.zip?GoogleAccessId=service-862779424947@gcf-admin-robot.iam.gserviceaccount.com&Expires=1721559695&Signature=e6NyOvbXJ%2FxJcdXsi3HYt0KpcmGy1wdvuYv%2By2rXgo2DvfWiu8NZPJ2r0C9XK3M0Tg26BkxuHGn%2B25GgqheHEK13Fmsq2AmL4YM1A35w5pWKv%2F8r9evXlKUGwZgj5JIZcYsarjmYIBKn%2B2icEMknYzUjc%2Fr0uDd9nCRZjP%2F8loW1pbmB9VApurK%2BWlPW4ZSBnxPEdTJKr0f7Pme93zB00WHVOE7NzuU6w%2FqLHQDsMcqmeJxPEtjdK9jKACCBj328hcCQEJdeErGN2z6oNeQ6BG4X3eZfEvtgfsey7FTYz%2BSAMeJ1nKotMjxJKrocbvTj%2BeuJHvRAGZ0as52UJtz6pg%3D%3D","storageSource":{"bucket":"gcf-v2-uploads-862779424947-us-central1","object":"f809765f-93cb-42e8-aa97-19bb82d26742.zip"}}
[debug] [2024-07-21T10:31:35.730Z] >>> [apiv2][query] PUT https://storage.googleapis.com/gcf-v2-uploads-862779424947-us-central1/f809765f-93cb-42e8-aa97-19bb82d26742.zip GoogleAccessId=service-862779424947%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1721559695&Signature=e6NyOvbXJ%2FxJcdXsi3HYt0KpcmGy1wdvuYv%2By2rXgo2DvfWiu8NZPJ2r0C9XK3M0Tg26BkxuHGn%2B25GgqheHEK13Fmsq2AmL4YM1A35w5pWKv%2F8r9evXlKUGwZgj5JIZcYsarjmYIBKn%2B2icEMknYzUjc%2Fr0uDd9nCRZjP%2F8loW1pbmB9VApurK%2BWlPW4ZSBnxPEdTJKr0f7Pme93zB00WHVOE7NzuU6w%2FqLHQDsMcqmeJxPEtjdK9jKACCBj328hcCQEJdeErGN2z6oNeQ6BG4X3eZfEvtgfsey7FTYz%2BSAMeJ1nKotMjxJKrocbvTj%2BeuJHvRAGZ0as52UJtz6pg%3D%3D
[debug] [2024-07-21T10:31:35.730Z] >>> [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-862779424947-us-central1/f809765f-93cb-42e8-aa97-19bb82d26742.zip [stream]
[debug] [2024-07-21T10:31:36.654Z] <<< [apiv2][status] PUT https://storage.googleapis.com/gcf-v2-uploads-862779424947-us-central1/f809765f-93cb-42e8-aa97-19bb82d26742.zip 200
[debug] [2024-07-21T10:31:36.654Z] <<< [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-862779424947-us-central1/f809765f-93cb-42e8-aa97-19bb82d26742.zip [omitted]
[info] ✔  functions: functions folder uploaded successfully 
[info] i  functions: updating Node.js 18 (2nd Gen) function helloWorld(us-central1)... 
[info] i  functions: updating Node.js 18 (2nd Gen) function handleStripeWebhook(us-central1)... 
[debug] [2024-07-21T10:31:36.667Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld updateMask=name%2CbuildConfig.runtime%2CbuildConfig.entryPoint%2CbuildConfig.source.storageSource.bucket%2CbuildConfig.source.storageSource.object%2CbuildConfig.environmentVariables%2CbuildConfig.sourceToken%2CserviceConfig.environmentVariables%2CserviceConfig.ingressSettings%2CserviceConfig.timeoutSeconds%2CserviceConfig.serviceAccountEmail%2CserviceConfig.availableMemory%2CserviceConfig.minInstanceCount%2CserviceConfig.maxInstanceCount%2CserviceConfig.maxInstanceRequestConcurrency%2CserviceConfig.availableCpu%2CserviceConfig.vpcConnector%2CserviceConfig.vpcConnectorEgressSettings%2Clabels%2CbuildConfig.buildEnvironmentVariables
[debug] [2024-07-21T10:31:36.667Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld {"name":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs18","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-uploads-862779424947-us-central1","object":"f809765f-93cb-42e8-aa97-19bb82d26742.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d8e347d25e868de81938aa8a5d7ab0e8b6b34eff"}}
[debug] [2024-07-21T10:31:38.861Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld 200
[debug] [2024-07-21T10:31:38.861Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557897902-61dbf6ef6f9d9-0af4756b-ad7595cd","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T10:31:38.735348011Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","verb":"update","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2024-07-21T10:31:38.862Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557897902-61dbf6ef6f9d9-0af4756b-ad7595cd [none]
[debug] [2024-07-21T10:31:40.206Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557897902-61dbf6ef6f9d9-0af4756b-ad7595cd 200
[debug] [2024-07-21T10:31:40.207Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557897902-61dbf6ef6f9d9-0af4756b-ad7595cd {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557897902-61dbf6ef6f9d9-0af4756b-ad7595cd","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T10:31:38.735348011Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs18","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"helloWorld/function-source.zip","generation":"1721557898692797"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"helloWorld/function-source.zip","generation":"1721545144915018"}},"dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/dollarydoodle-17566/locations/us-central1/services/helloworld","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"862779424947-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"UNKNOWN","labels":{"firebase-functions-hash":"d8e347d25e868de81938aa8a5d7ab0e8b6b34eff"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/dollarydoodle-17566/locations/us-central1/services/helloworld for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-dollarydoodle-17566.cloudfunctions.net/helloWorld"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/862779424947/locations/us-central1/builds/f6a7931f-8544-4512-8af5-0cde72033583","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/f6a7931f-8544-4512-8af5-0cde72033583?project=862779424947"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":false}
[debug] [2024-07-21T10:31:40.708Z] [update-default-us-central1-helloWorld] Retrying task index 0
[debug] [2024-07-21T10:31:40.709Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557897902-61dbf6ef6f9d9-0af4756b-ad7595cd [none]
[debug] [2024-07-21T10:31:42.034Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557897902-61dbf6ef6f9d9-0af4756b-ad7595cd 200
[debug] [2024-07-21T10:31:42.036Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557897902-61dbf6ef6f9d9-0af4756b-ad7595cd {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557897902-61dbf6ef6f9d9-0af4756b-ad7595cd","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T10:31:38.735348011Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs18","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"helloWorld/function-source.zip","generation":"1721557898692797"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"helloWorld/function-source.zip","generation":"1721545144915018"}},"dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/dollarydoodle-17566/locations/us-central1/services/helloworld","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"862779424947-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"UNKNOWN","labels":{"firebase-functions-hash":"d8e347d25e868de81938aa8a5d7ab0e8b6b34eff"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/dollarydoodle-17566/locations/us-central1/services/helloworld for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-dollarydoodle-17566.cloudfunctions.net/helloWorld"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/862779424947/locations/us-central1/builds/f6a7931f-8544-4512-8af5-0cde72033583","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/f6a7931f-8544-4512-8af5-0cde72033583?project=862779424947"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":false}
[debug] [2024-07-21T10:31:43.039Z] [update-default-us-central1-helloWorld] Retrying task index 0
[debug] [2024-07-21T10:31:43.040Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557897902-61dbf6ef6f9d9-0af4756b-ad7595cd [none]
[debug] [2024-07-21T10:31:44.370Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557897902-61dbf6ef6f9d9-0af4756b-ad7595cd 200
[debug] [2024-07-21T10:31:44.371Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557897902-61dbf6ef6f9d9-0af4756b-ad7595cd {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557897902-61dbf6ef6f9d9-0af4756b-ad7595cd","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T10:31:38.735348011Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs18","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"helloWorld/function-source.zip","generation":"1721557898692797"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"helloWorld/function-source.zip","generation":"1721545144915018"}},"dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/dollarydoodle-17566/locations/us-central1/services/helloworld","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"862779424947-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"UNKNOWN","labels":{"firebase-functions-hash":"d8e347d25e868de81938aa8a5d7ab0e8b6b34eff"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/dollarydoodle-17566/locations/us-central1/services/helloworld for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-dollarydoodle-17566.cloudfunctions.net/helloWorld"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/862779424947/locations/us-central1/builds/f6a7931f-8544-4512-8af5-0cde72033583","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/f6a7931f-8544-4512-8af5-0cde72033583?project=862779424947"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":false}
[debug] [2024-07-21T10:31:46.372Z] [update-default-us-central1-helloWorld] Retrying task index 0
[debug] [2024-07-21T10:31:46.376Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557897902-61dbf6ef6f9d9-0af4756b-ad7595cd [none]
[debug] [2024-07-21T10:31:46.916Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557897902-61dbf6ef6f9d9-0af4756b-ad7595cd 200
[debug] [2024-07-21T10:31:46.916Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557897902-61dbf6ef6f9d9-0af4756b-ad7595cd {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557897902-61dbf6ef6f9d9-0af4756b-ad7595cd","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T10:31:38.735348011Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs18","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"helloWorld/function-source.zip","generation":"1721557898692797"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"helloWorld/function-source.zip","generation":"1721545144915018"}},"dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/dollarydoodle-17566/locations/us-central1/services/helloworld","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"862779424947-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"UNKNOWN","labels":{"firebase-functions-hash":"d8e347d25e868de81938aa8a5d7ab0e8b6b34eff"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/dollarydoodle-17566/locations/us-central1/services/helloworld for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-dollarydoodle-17566.cloudfunctions.net/helloWorld"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/862779424947/locations/us-central1/builds/f6a7931f-8544-4512-8af5-0cde72033583","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/f6a7931f-8544-4512-8af5-0cde72033583?project=862779424947"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":false}
[debug] [2024-07-21T10:31:50.918Z] [update-default-us-central1-helloWorld] Retrying task index 0
[debug] [2024-07-21T10:31:50.924Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557897902-61dbf6ef6f9d9-0af4756b-ad7595cd [none]
[debug] [2024-07-21T10:31:52.282Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557897902-61dbf6ef6f9d9-0af4756b-ad7595cd 200
[debug] [2024-07-21T10:31:52.283Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557897902-61dbf6ef6f9d9-0af4756b-ad7595cd {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557897902-61dbf6ef6f9d9-0af4756b-ad7595cd","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T10:31:38.735348011Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs18","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"helloWorld/function-source.zip","generation":"1721557898692797"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"helloWorld/function-source.zip","generation":"1721545144915018"}},"dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/dollarydoodle-17566/locations/us-central1/services/helloworld","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"862779424947-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"UNKNOWN","labels":{"firebase-functions-hash":"d8e347d25e868de81938aa8a5d7ab0e8b6b34eff"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/dollarydoodle-17566/locations/us-central1/services/helloworld for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-dollarydoodle-17566.cloudfunctions.net/helloWorld"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/862779424947/locations/us-central1/builds/f6a7931f-8544-4512-8af5-0cde72033583","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/f6a7931f-8544-4512-8af5-0cde72033583?project=862779424947"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":false}
[debug] [2024-07-21T10:32:00.285Z] [update-default-us-central1-helloWorld] Retrying task index 0
[debug] [2024-07-21T10:32:00.288Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557897902-61dbf6ef6f9d9-0af4756b-ad7595cd [none]
[debug] [2024-07-21T10:32:01.740Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557897902-61dbf6ef6f9d9-0af4756b-ad7595cd 200
[debug] [2024-07-21T10:32:01.741Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557897902-61dbf6ef6f9d9-0af4756b-ad7595cd {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557897902-61dbf6ef6f9d9-0af4756b-ad7595cd","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T10:31:38.735348011Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs18","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"helloWorld/function-source.zip","generation":"1721557898692797"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"helloWorld/function-source.zip","generation":"1721545144915018"}},"dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/dollarydoodle-17566/locations/us-central1/services/helloworld","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"862779424947-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"UNKNOWN","labels":{"firebase-functions-hash":"d8e347d25e868de81938aa8a5d7ab0e8b6b34eff"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/dollarydoodle-17566/locations/us-central1/services/helloworld for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-dollarydoodle-17566.cloudfunctions.net/helloWorld"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/862779424947/locations/us-central1/builds/f6a7931f-8544-4512-8af5-0cde72033583","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/f6a7931f-8544-4512-8af5-0cde72033583?project=862779424947"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":false}
[debug] [2024-07-21T10:32:11.749Z] [update-default-us-central1-helloWorld] Retrying task index 0
[debug] [2024-07-21T10:32:11.763Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557897902-61dbf6ef6f9d9-0af4756b-ad7595cd [none]
[debug] [2024-07-21T10:32:13.190Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557897902-61dbf6ef6f9d9-0af4756b-ad7595cd 200
[debug] [2024-07-21T10:32:13.190Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557897902-61dbf6ef6f9d9-0af4756b-ad7595cd {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557897902-61dbf6ef6f9d9-0af4756b-ad7595cd","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T10:31:38.735348011Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs18","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"helloWorld/function-source.zip","generation":"1721557898692797"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"helloWorld/function-source.zip","generation":"1721545144915018"}},"dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/dollarydoodle-17566/locations/us-central1/services/helloworld","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"862779424947-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"UNKNOWN","labels":{"firebase-functions-hash":"d8e347d25e868de81938aa8a5d7ab0e8b6b34eff"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/dollarydoodle-17566/locations/us-central1/services/helloworld for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-dollarydoodle-17566.cloudfunctions.net/helloWorld"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/862779424947/locations/us-central1/builds/f6a7931f-8544-4512-8af5-0cde72033583","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/f6a7931f-8544-4512-8af5-0cde72033583?project=862779424947"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":false}
[debug] [2024-07-21T10:32:23.193Z] [update-default-us-central1-helloWorld] Retrying task index 0
[debug] [2024-07-21T10:32:23.204Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557897902-61dbf6ef6f9d9-0af4756b-ad7595cd [none]
[debug] [2024-07-21T10:32:24.609Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557897902-61dbf6ef6f9d9-0af4756b-ad7595cd 200
[debug] [2024-07-21T10:32:24.610Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557897902-61dbf6ef6f9d9-0af4756b-ad7595cd {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557897902-61dbf6ef6f9d9-0af4756b-ad7595cd","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T10:31:38.735348011Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs18","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"helloWorld/function-source.zip","generation":"1721557898692797"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"helloWorld/function-source.zip","generation":"1721545144915018"}},"dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/dollarydoodle-17566/locations/us-central1/services/helloworld","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"862779424947-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"UNKNOWN","labels":{"firebase-functions-hash":"d8e347d25e868de81938aa8a5d7ab0e8b6b34eff"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/dollarydoodle-17566/locations/us-central1/services/helloworld for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-dollarydoodle-17566.cloudfunctions.net/helloWorld"},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/862779424947/locations/us-central1/builds/f6a7931f-8544-4512-8af5-0cde72033583","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/f6a7931f-8544-4512-8af5-0cde72033583?project=862779424947"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/dollarydoodle-17566/locations/us-central1/services/helloworld","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/helloworld?project=dollarydoodle-17566","stateMessages":[{"severity":"WARNING","type":"CloudRunServiceRecreated","message":"Cloud Run service projects/dollarydoodle-17566/locations/us-central1/services/helloworld for the function was not found. The service was redeployed with default values."}]}],"sourceToken":"Cldwcm9qZWN0cy84NjI3Nzk0MjQ5NDcvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9mNmE3OTMxZi04NTQ0LTQ1MTItOGFmNS0wY2RlNzIwMzM1ODMSUnVzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L2RvbGxhcnlkb29kbGUtMTc1NjYvZ2NmLWFydGlmYWN0cy9oZWxsb193b3JsZDp2ZXJzaW9uXzEYs4GljY4ZIkdwcm9qZWN0cy9kb2xsYXJ5ZG9vZGxlLTE3NTY2L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvaGVsbG9Xb3JsZCoMCLPH87QGEMij3LkBMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB","operationType":"UPDATE_FUNCTION"},"done":false}
[debug] [2024-07-21T10:32:24.611Z] Got source token Cldwcm9qZWN0cy84NjI3Nzk0MjQ5NDcvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9mNmE3OTMxZi04NTQ0LTQ1MTItOGFmNS0wY2RlNzIwMzM1ODMSUnVzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L2RvbGxhcnlkb29kbGUtMTc1NjYvZ2NmLWFydGlmYWN0cy9oZWxsb193b3JsZDp2ZXJzaW9uXzEYs4GljY4ZIkdwcm9qZWN0cy9kb2xsYXJ5ZG9vZGxlLTE3NTY2L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvaGVsbG9Xb3JsZCoMCLPH87QGEMij3LkBMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB for region us-central1
[debug] [2024-07-21T10:32:24.614Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/functions/handleStripeWebhook updateMask=name%2CbuildConfig.runtime%2CbuildConfig.entryPoint%2CbuildConfig.source.storageSource.bucket%2CbuildConfig.source.storageSource.object%2CbuildConfig.environmentVariables%2CbuildConfig.sourceToken%2CserviceConfig.environmentVariables%2CserviceConfig.ingressSettings%2CserviceConfig.timeoutSeconds%2CserviceConfig.serviceAccountEmail%2CserviceConfig.availableMemory%2CserviceConfig.minInstanceCount%2CserviceConfig.maxInstanceCount%2CserviceConfig.maxInstanceRequestConcurrency%2CserviceConfig.availableCpu%2CserviceConfig.vpcConnector%2CserviceConfig.vpcConnectorEgressSettings%2Clabels%2CbuildConfig.buildEnvironmentVariables
[debug] [2024-07-21T10:32:24.614Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/functions/handleStripeWebhook {"name":"projects/dollarydoodle-17566/locations/us-central1/functions/handleStripeWebhook","buildConfig":{"runtime":"nodejs18","entryPoint":"handleStripeWebhook","source":{"storageSource":{"bucket":"gcf-v2-uploads-862779424947-us-central1","object":"f809765f-93cb-42e8-aa97-19bb82d26742.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"Cldwcm9qZWN0cy84NjI3Nzk0MjQ5NDcvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9mNmE3OTMxZi04NTQ0LTQ1MTItOGFmNS0wY2RlNzIwMzM1ODMSUnVzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L2RvbGxhcnlkb29kbGUtMTc1NjYvZ2NmLWFydGlmYWN0cy9oZWxsb193b3JsZDp2ZXJzaW9uXzEYs4GljY4ZIkdwcm9qZWN0cy9kb2xsYXJ5ZG9vZGxlLTE3NTY2L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvaGVsbG9Xb3JsZCoMCLPH87QGEMij3LkBMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB"},"serviceConfig":{"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/handleStripeWebhook","FUNCTION_TARGET":"handleStripeWebhook"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d8e347d25e868de81938aa8a5d7ab0e8b6b34eff"}}
[debug] [2024-07-21T10:32:26.879Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/functions/handleStripeWebhook 200
[debug] [2024-07-21T10:32:26.880Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/functions/handleStripeWebhook {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557945868-61dbf71d2df9e-23c1d2c6-a0b84301","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T10:32:26.752712453Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/handleStripeWebhook","verb":"update","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2024-07-21T10:32:26.881Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557945868-61dbf71d2df9e-23c1d2c6-a0b84301 [none]
[debug] [2024-07-21T10:32:28.214Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557945868-61dbf71d2df9e-23c1d2c6-a0b84301 200
[debug] [2024-07-21T10:32:28.214Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557945868-61dbf71d2df9e-23c1d2c6-a0b84301 {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557945868-61dbf71d2df9e-23c1d2c6-a0b84301","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T10:32:26.752712453Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/handleStripeWebhook","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/dollarydoodle-17566/locations/us-central1/functions/handleStripeWebhook","buildConfig":{"runtime":"nodejs18","entryPoint":"handleStripeWebhook","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"handleStripeWebhook/function-source.zip","generation":"1721557946712134"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"handleStripeWebhook/function-source.zip","generation":"1721557507043851"}},"dockerRegistry":"ARTIFACT_REGISTRY","sourceToken":"Cldwcm9qZWN0cy84NjI3Nzk0MjQ5NDcvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9mNmE3OTMxZi04NTQ0LTQ1MTItOGFmNS0wY2RlNzIwMzM1ODMSUnVzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L2RvbGxhcnlkb29kbGUtMTc1NjYvZ2NmLWFydGlmYWN0cy9oZWxsb193b3JsZDp2ZXJzaW9uXzEYs4GljY4ZIkdwcm9qZWN0cy9kb2xsYXJ5ZG9vZGxlLTE3NTY2L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvaGVsbG9Xb3JsZCoMCLPH87QGEMij3LkBMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/dollarydoodle-17566/locations/us-central1/services/handlestripewebhook","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/handleStripeWebhook","FUNCTION_TARGET":"handleStripeWebhook","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"862779424947-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"UNKNOWN","labels":{"firebase-functions-hash":"d8e347d25e868de81938aa8a5d7ab0e8b6b34eff"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/dollarydoodle-17566/locations/us-central1/services/handlestripewebhook for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-dollarydoodle-17566.cloudfunctions.net/handleStripeWebhook"},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/862779424947/locations/us-central1/builds/f6a7931f-8544-4512-8af5-0cde72033583"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/dollarydoodle-17566/locations/us-central1/services/handlestripewebhook","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/handlestripewebhook?project=dollarydoodle-17566","stateMessages":[{"severity":"WARNING","type":"CloudRunServiceRecreated","message":"Cloud Run service projects/dollarydoodle-17566/locations/us-central1/services/handlestripewebhook for the function was not found. The service was redeployed with default values."}]}],"sourceToken":"Cldwcm9qZWN0cy84NjI3Nzk0MjQ5NDcvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9mNmE3OTMxZi04NTQ0LTQ1MTItOGFmNS0wY2RlNzIwMzM1ODMSUnVzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L2RvbGxhcnlkb29kbGUtMTc1NjYvZ2NmLWFydGlmYWN0cy9oZWxsb193b3JsZDp2ZXJzaW9uXzEYs4GljY4ZIkdwcm9qZWN0cy9kb2xsYXJ5ZG9vZGxlLTE3NTY2L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvaGVsbG9Xb3JsZCoMCLPH87QGEMij3LkBMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB","operationType":"UPDATE_FUNCTION"},"done":false}
[debug] [2024-07-21T10:32:28.214Z] Got source token Cldwcm9qZWN0cy84NjI3Nzk0MjQ5NDcvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9mNmE3OTMxZi04NTQ0LTQ1MTItOGFmNS0wY2RlNzIwMzM1ODMSUnVzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L2RvbGxhcnlkb29kbGUtMTc1NjYvZ2NmLWFydGlmYWN0cy9oZWxsb193b3JsZDp2ZXJzaW9uXzEYs4GljY4ZIkdwcm9qZWN0cy9kb2xsYXJ5ZG9vZGxlLTE3NTY2L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvaGVsbG9Xb3JsZCoMCLPH87QGEMij3LkBMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB for region us-central1
[debug] [2024-07-21T10:32:28.717Z] [update-default-us-central1-handleStripeWebhook] Retrying task index 0
[debug] [2024-07-21T10:32:28.718Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557945868-61dbf71d2df9e-23c1d2c6-a0b84301 [none]
[debug] [2024-07-21T10:32:30.064Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557945868-61dbf71d2df9e-23c1d2c6-a0b84301 200
[debug] [2024-07-21T10:32:30.065Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557945868-61dbf71d2df9e-23c1d2c6-a0b84301 {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557945868-61dbf71d2df9e-23c1d2c6-a0b84301","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T10:32:26.752712453Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/handleStripeWebhook","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/dollarydoodle-17566/locations/us-central1/functions/handleStripeWebhook","buildConfig":{"runtime":"nodejs18","entryPoint":"handleStripeWebhook","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"handleStripeWebhook/function-source.zip","generation":"1721557946712134"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"handleStripeWebhook/function-source.zip","generation":"1721557507043851"}},"dockerRegistry":"ARTIFACT_REGISTRY","sourceToken":"Cldwcm9qZWN0cy84NjI3Nzk0MjQ5NDcvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9mNmE3OTMxZi04NTQ0LTQ1MTItOGFmNS0wY2RlNzIwMzM1ODMSUnVzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L2RvbGxhcnlkb29kbGUtMTc1NjYvZ2NmLWFydGlmYWN0cy9oZWxsb193b3JsZDp2ZXJzaW9uXzEYs4GljY4ZIkdwcm9qZWN0cy9kb2xsYXJ5ZG9vZGxlLTE3NTY2L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvaGVsbG9Xb3JsZCoMCLPH87QGEMij3LkBMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/dollarydoodle-17566/locations/us-central1/services/handlestripewebhook","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/handleStripeWebhook","FUNCTION_TARGET":"handleStripeWebhook","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"862779424947-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"UNKNOWN","labels":{"firebase-functions-hash":"d8e347d25e868de81938aa8a5d7ab0e8b6b34eff"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/dollarydoodle-17566/locations/us-central1/services/handlestripewebhook for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-dollarydoodle-17566.cloudfunctions.net/handleStripeWebhook"},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/862779424947/locations/us-central1/builds/f6a7931f-8544-4512-8af5-0cde72033583"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/dollarydoodle-17566/locations/us-central1/services/handlestripewebhook","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/handlestripewebhook?project=dollarydoodle-17566","stateMessages":[{"severity":"WARNING","type":"CloudRunServiceRecreated","message":"Cloud Run service projects/dollarydoodle-17566/locations/us-central1/services/handlestripewebhook for the function was not found. The service was redeployed with default values."}]}],"sourceToken":"Cldwcm9qZWN0cy84NjI3Nzk0MjQ5NDcvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9mNmE3OTMxZi04NTQ0LTQ1MTItOGFmNS0wY2RlNzIwMzM1ODMSUnVzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L2RvbGxhcnlkb29kbGUtMTc1NjYvZ2NmLWFydGlmYWN0cy9oZWxsb193b3JsZDp2ZXJzaW9uXzEYs4GljY4ZIkdwcm9qZWN0cy9kb2xsYXJ5ZG9vZGxlLTE3NTY2L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvaGVsbG9Xb3JsZCoMCLPH87QGEMij3LkBMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB","operationType":"UPDATE_FUNCTION"},"done":false}
[debug] [2024-07-21T10:32:30.075Z] Got source token Cldwcm9qZWN0cy84NjI3Nzk0MjQ5NDcvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9mNmE3OTMxZi04NTQ0LTQ1MTItOGFmNS0wY2RlNzIwMzM1ODMSUnVzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L2RvbGxhcnlkb29kbGUtMTc1NjYvZ2NmLWFydGlmYWN0cy9oZWxsb193b3JsZDp2ZXJzaW9uXzEYs4GljY4ZIkdwcm9qZWN0cy9kb2xsYXJ5ZG9vZGxlLTE3NTY2L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvaGVsbG9Xb3JsZCoMCLPH87QGEMij3LkBMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB for region us-central1
[debug] [2024-07-21T10:32:31.079Z] [update-default-us-central1-handleStripeWebhook] Retrying task index 0
[debug] [2024-07-21T10:32:31.087Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557945868-61dbf71d2df9e-23c1d2c6-a0b84301 [none]
[debug] [2024-07-21T10:32:32.413Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557945868-61dbf71d2df9e-23c1d2c6-a0b84301 200
[debug] [2024-07-21T10:32:32.414Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557945868-61dbf71d2df9e-23c1d2c6-a0b84301 {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557945868-61dbf71d2df9e-23c1d2c6-a0b84301","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T10:32:26.752712453Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/handleStripeWebhook","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/dollarydoodle-17566/locations/us-central1/functions/handleStripeWebhook","buildConfig":{"runtime":"nodejs18","entryPoint":"handleStripeWebhook","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"handleStripeWebhook/function-source.zip","generation":"1721557946712134"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"handleStripeWebhook/function-source.zip","generation":"1721557507043851"}},"dockerRegistry":"ARTIFACT_REGISTRY","sourceToken":"Cldwcm9qZWN0cy84NjI3Nzk0MjQ5NDcvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9mNmE3OTMxZi04NTQ0LTQ1MTItOGFmNS0wY2RlNzIwMzM1ODMSUnVzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L2RvbGxhcnlkb29kbGUtMTc1NjYvZ2NmLWFydGlmYWN0cy9oZWxsb193b3JsZDp2ZXJzaW9uXzEYs4GljY4ZIkdwcm9qZWN0cy9kb2xsYXJ5ZG9vZGxlLTE3NTY2L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvaGVsbG9Xb3JsZCoMCLPH87QGEMij3LkBMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/dollarydoodle-17566/locations/us-central1/services/handlestripewebhook","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/handleStripeWebhook","FUNCTION_TARGET":"handleStripeWebhook","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"862779424947-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"UNKNOWN","labels":{"firebase-functions-hash":"d8e347d25e868de81938aa8a5d7ab0e8b6b34eff"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/dollarydoodle-17566/locations/us-central1/services/handlestripewebhook for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-dollarydoodle-17566.cloudfunctions.net/handleStripeWebhook"},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/862779424947/locations/us-central1/builds/f6a7931f-8544-4512-8af5-0cde72033583"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/dollarydoodle-17566/locations/us-central1/services/handlestripewebhook","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/handlestripewebhook?project=dollarydoodle-17566","stateMessages":[{"severity":"WARNING","type":"CloudRunServiceRecreated","message":"Cloud Run service projects/dollarydoodle-17566/locations/us-central1/services/handlestripewebhook for the function was not found. The service was redeployed with default values."}]}],"sourceToken":"Cldwcm9qZWN0cy84NjI3Nzk0MjQ5NDcvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9mNmE3OTMxZi04NTQ0LTQ1MTItOGFmNS0wY2RlNzIwMzM1ODMSUnVzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L2RvbGxhcnlkb29kbGUtMTc1NjYvZ2NmLWFydGlmYWN0cy9oZWxsb193b3JsZDp2ZXJzaW9uXzEYs4GljY4ZIkdwcm9qZWN0cy9kb2xsYXJ5ZG9vZGxlLTE3NTY2L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvaGVsbG9Xb3JsZCoMCLPH87QGEMij3LkBMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB","operationType":"UPDATE_FUNCTION"},"done":false}
[debug] [2024-07-21T10:32:32.414Z] Got source token Cldwcm9qZWN0cy84NjI3Nzk0MjQ5NDcvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9mNmE3OTMxZi04NTQ0LTQ1MTItOGFmNS0wY2RlNzIwMzM1ODMSUnVzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L2RvbGxhcnlkb29kbGUtMTc1NjYvZ2NmLWFydGlmYWN0cy9oZWxsb193b3JsZDp2ZXJzaW9uXzEYs4GljY4ZIkdwcm9qZWN0cy9kb2xsYXJ5ZG9vZGxlLTE3NTY2L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvaGVsbG9Xb3JsZCoMCLPH87QGEMij3LkBMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB for region us-central1
[debug] [2024-07-21T10:32:34.421Z] [update-default-us-central1-handleStripeWebhook] Retrying task index 0
[debug] [2024-07-21T10:32:34.428Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557945868-61dbf71d2df9e-23c1d2c6-a0b84301 [none]
[debug] [2024-07-21T10:32:34.612Z] [update-default-us-central1-helloWorld] Retrying task index 0
[debug] [2024-07-21T10:32:34.613Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557897902-61dbf6ef6f9d9-0af4756b-ad7595cd [none]
[debug] [2024-07-21T10:32:35.814Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557945868-61dbf71d2df9e-23c1d2c6-a0b84301 200
[debug] [2024-07-21T10:32:35.817Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557945868-61dbf71d2df9e-23c1d2c6-a0b84301 {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557945868-61dbf71d2df9e-23c1d2c6-a0b84301","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T10:32:26.752712453Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/handleStripeWebhook","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/dollarydoodle-17566/locations/us-central1/functions/handleStripeWebhook","buildConfig":{"runtime":"nodejs18","entryPoint":"handleStripeWebhook","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"handleStripeWebhook/function-source.zip","generation":"1721557946712134"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"handleStripeWebhook/function-source.zip","generation":"1721557507043851"}},"dockerRegistry":"ARTIFACT_REGISTRY","sourceToken":"Cldwcm9qZWN0cy84NjI3Nzk0MjQ5NDcvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9mNmE3OTMxZi04NTQ0LTQ1MTItOGFmNS0wY2RlNzIwMzM1ODMSUnVzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L2RvbGxhcnlkb29kbGUtMTc1NjYvZ2NmLWFydGlmYWN0cy9oZWxsb193b3JsZDp2ZXJzaW9uXzEYs4GljY4ZIkdwcm9qZWN0cy9kb2xsYXJ5ZG9vZGxlLTE3NTY2L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvaGVsbG9Xb3JsZCoMCLPH87QGEMij3LkBMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/dollarydoodle-17566/locations/us-central1/services/handlestripewebhook","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/handleStripeWebhook","FUNCTION_TARGET":"handleStripeWebhook","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"862779424947-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"UNKNOWN","labels":{"firebase-functions-hash":"d8e347d25e868de81938aa8a5d7ab0e8b6b34eff"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/dollarydoodle-17566/locations/us-central1/services/handlestripewebhook for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-dollarydoodle-17566.cloudfunctions.net/handleStripeWebhook"},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/862779424947/locations/us-central1/builds/f6a7931f-8544-4512-8af5-0cde72033583"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/dollarydoodle-17566/locations/us-central1/services/handlestripewebhook","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/handlestripewebhook?project=dollarydoodle-17566","stateMessages":[{"severity":"WARNING","type":"CloudRunServiceRecreated","message":"Cloud Run service projects/dollarydoodle-17566/locations/us-central1/services/handlestripewebhook for the function was not found. The service was redeployed with default values."}]}],"sourceToken":"Cldwcm9qZWN0cy84NjI3Nzk0MjQ5NDcvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9mNmE3OTMxZi04NTQ0LTQ1MTItOGFmNS0wY2RlNzIwMzM1ODMSUnVzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L2RvbGxhcnlkb29kbGUtMTc1NjYvZ2NmLWFydGlmYWN0cy9oZWxsb193b3JsZDp2ZXJzaW9uXzEYs4GljY4ZIkdwcm9qZWN0cy9kb2xsYXJ5ZG9vZGxlLTE3NTY2L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvaGVsbG9Xb3JsZCoMCLPH87QGEMij3LkBMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB","operationType":"UPDATE_FUNCTION"},"done":false}
[debug] [2024-07-21T10:32:35.817Z] Got source token Cldwcm9qZWN0cy84NjI3Nzk0MjQ5NDcvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9mNmE3OTMxZi04NTQ0LTQ1MTItOGFmNS0wY2RlNzIwMzM1ODMSUnVzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L2RvbGxhcnlkb29kbGUtMTc1NjYvZ2NmLWFydGlmYWN0cy9oZWxsb193b3JsZDp2ZXJzaW9uXzEYs4GljY4ZIkdwcm9qZWN0cy9kb2xsYXJ5ZG9vZGxlLTE3NTY2L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvaGVsbG9Xb3JsZCoMCLPH87QGEMij3LkBMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB for region us-central1
[debug] [2024-07-21T10:32:36.160Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557897902-61dbf6ef6f9d9-0af4756b-ad7595cd 200
[debug] [2024-07-21T10:32:36.161Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557897902-61dbf6ef6f9d9-0af4756b-ad7595cd {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557897902-61dbf6ef6f9d9-0af4756b-ad7595cd","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T10:31:38.735348011Z","endTime":"2024-07-21T10:32:30.995901750Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/dollarydoodle-17566/locations/us-central1/functions/helloWorld","buildConfig":{"runtime":"nodejs18","entryPoint":"helloWorld","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"helloWorld/function-source.zip","generation":"1721557898692797"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"helloWorld/function-source.zip","generation":"1721545144915018"}},"dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/dollarydoodle-17566/locations/us-central1/services/helloworld","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/helloWorld","FUNCTION_TARGET":"helloWorld","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"862779424947-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"UNKNOWN","labels":{"firebase-functions-hash":"d8e347d25e868de81938aa8a5d7ab0e8b6b34eff"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/dollarydoodle-17566/locations/us-central1/services/helloworld for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-dollarydoodle-17566.cloudfunctions.net/helloWorld"},"stages":[{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":true,"error":{"code":3,"message":"Could not create or update Cloud Run service helloworld, Container Healthcheck failed. Revision 'helloworld-00001-meb' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=dollarydoodle-17566&resource=cloud_run_revision/service_name/helloworld/revision_name/helloworld-00001-meb&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22helloworld%22%0Aresource.labels.revision_name%3D%22helloworld-00001-meb%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"}}
[debug] [2024-07-21T10:32:36.161Z] Got source token undefined for region us-central1
[error] Could not create or update Cloud Run service helloworld, Container Healthcheck failed. Revision 'helloworld-00001-meb' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable. Logs for this revision might contain more information.

Logs URL: https://console.cloud.google.com/logs/viewer?project=dollarydoodle-17566&resource=cloud_run_revision/service_name/helloworld/revision_name/helloworld-00001-meb&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22helloworld%22%0Aresource.labels.revision_name%3D%22helloworld-00001-meb%22 
For more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start
[debug] [2024-07-21T10:32:39.819Z] [update-default-us-central1-handleStripeWebhook] Retrying task index 0
[debug] [2024-07-21T10:32:39.822Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557945868-61dbf71d2df9e-23c1d2c6-a0b84301 [none]
[debug] [2024-07-21T10:32:41.208Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557945868-61dbf71d2df9e-23c1d2c6-a0b84301 200
[debug] [2024-07-21T10:32:41.209Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557945868-61dbf71d2df9e-23c1d2c6-a0b84301 {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557945868-61dbf71d2df9e-23c1d2c6-a0b84301","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T10:32:26.752712453Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/handleStripeWebhook","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/dollarydoodle-17566/locations/us-central1/functions/handleStripeWebhook","buildConfig":{"runtime":"nodejs18","entryPoint":"handleStripeWebhook","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"handleStripeWebhook/function-source.zip","generation":"1721557946712134"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"handleStripeWebhook/function-source.zip","generation":"1721557507043851"}},"dockerRegistry":"ARTIFACT_REGISTRY","sourceToken":"Cldwcm9qZWN0cy84NjI3Nzk0MjQ5NDcvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9mNmE3OTMxZi04NTQ0LTQ1MTItOGFmNS0wY2RlNzIwMzM1ODMSUnVzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L2RvbGxhcnlkb29kbGUtMTc1NjYvZ2NmLWFydGlmYWN0cy9oZWxsb193b3JsZDp2ZXJzaW9uXzEYs4GljY4ZIkdwcm9qZWN0cy9kb2xsYXJ5ZG9vZGxlLTE3NTY2L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvaGVsbG9Xb3JsZCoMCLPH87QGEMij3LkBMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/dollarydoodle-17566/locations/us-central1/services/handlestripewebhook","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/handleStripeWebhook","FUNCTION_TARGET":"handleStripeWebhook","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"862779424947-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"UNKNOWN","labels":{"firebase-functions-hash":"d8e347d25e868de81938aa8a5d7ab0e8b6b34eff"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/dollarydoodle-17566/locations/us-central1/services/handlestripewebhook for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-dollarydoodle-17566.cloudfunctions.net/handleStripeWebhook"},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/862779424947/locations/us-central1/builds/f6a7931f-8544-4512-8af5-0cde72033583"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/dollarydoodle-17566/locations/us-central1/services/handlestripewebhook","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/handlestripewebhook?project=dollarydoodle-17566","stateMessages":[{"severity":"WARNING","type":"CloudRunServiceRecreated","message":"Cloud Run service projects/dollarydoodle-17566/locations/us-central1/services/handlestripewebhook for the function was not found. The service was redeployed with default values."}]}],"sourceToken":"Cldwcm9qZWN0cy84NjI3Nzk0MjQ5NDcvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9mNmE3OTMxZi04NTQ0LTQ1MTItOGFmNS0wY2RlNzIwMzM1ODMSUnVzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L2RvbGxhcnlkb29kbGUtMTc1NjYvZ2NmLWFydGlmYWN0cy9oZWxsb193b3JsZDp2ZXJzaW9uXzEYs4GljY4ZIkdwcm9qZWN0cy9kb2xsYXJ5ZG9vZGxlLTE3NTY2L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvaGVsbG9Xb3JsZCoMCLPH87QGEMij3LkBMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB","operationType":"UPDATE_FUNCTION"},"done":false}
[debug] [2024-07-21T10:32:41.209Z] Got source token Cldwcm9qZWN0cy84NjI3Nzk0MjQ5NDcvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9mNmE3OTMxZi04NTQ0LTQ1MTItOGFmNS0wY2RlNzIwMzM1ODMSUnVzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L2RvbGxhcnlkb29kbGUtMTc1NjYvZ2NmLWFydGlmYWN0cy9oZWxsb193b3JsZDp2ZXJzaW9uXzEYs4GljY4ZIkdwcm9qZWN0cy9kb2xsYXJ5ZG9vZGxlLTE3NTY2L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvaGVsbG9Xb3JsZCoMCLPH87QGEMij3LkBMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB for region us-central1
[debug] [2024-07-21T10:32:49.210Z] [update-default-us-central1-handleStripeWebhook] Retrying task index 0
[debug] [2024-07-21T10:32:49.212Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557945868-61dbf71d2df9e-23c1d2c6-a0b84301 [none]
[debug] [2024-07-21T10:32:50.890Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557945868-61dbf71d2df9e-23c1d2c6-a0b84301 200
[debug] [2024-07-21T10:32:50.891Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557945868-61dbf71d2df9e-23c1d2c6-a0b84301 {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/operation-1721557945868-61dbf71d2df9e-23c1d2c6-a0b84301","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-07-21T10:32:26.752712453Z","endTime":"2024-07-21T10:32:41.952237185Z","target":"projects/dollarydoodle-17566/locations/us-central1/functions/handleStripeWebhook","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/dollarydoodle-17566/locations/us-central1/functions/handleStripeWebhook","buildConfig":{"runtime":"nodejs18","entryPoint":"handleStripeWebhook","source":{"storageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"handleStripeWebhook/function-source.zip","generation":"1721557946712134"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-862779424947-us-central1","object":"handleStripeWebhook/function-source.zip","generation":"1721557507043851"}},"dockerRegistry":"ARTIFACT_REGISTRY","sourceToken":"Cldwcm9qZWN0cy84NjI3Nzk0MjQ5NDcvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9mNmE3OTMxZi04NTQ0LTQ1MTItOGFmNS0wY2RlNzIwMzM1ODMSUnVzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L2RvbGxhcnlkb29kbGUtMTc1NjYvZ2NmLWFydGlmYWN0cy9oZWxsb193b3JsZDp2ZXJzaW9uXzEYs4GljY4ZIkdwcm9qZWN0cy9kb2xsYXJ5ZG9vZGxlLTE3NTY2L2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvaGVsbG9Xb3JsZCoMCLPH87QGEMij3LkBMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/dollarydoodle-17566/locations/us-central1/services/handlestripewebhook","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}","GCLOUD_PROJECT":"dollarydoodle-17566","EVENTARC_CLOUD_EVENT_SOURCE":"projects/dollarydoodle-17566/locations/us-central1/services/handleStripeWebhook","FUNCTION_TARGET":"handleStripeWebhook","LOG_EXECUTION_ID":"true","FUNCTION_SIGNATURE_TYPE":"http"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"862779424947-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"UNKNOWN","labels":{"firebase-functions-hash":"d8e347d25e868de81938aa8a5d7ab0e8b6b34eff"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/dollarydoodle-17566/locations/us-central1/services/handlestripewebhook for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-dollarydoodle-17566.cloudfunctions.net/handleStripeWebhook"},"stages":[{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":true,"error":{"code":3,"message":"Could not create or update Cloud Run service handlestripewebhook, Container Healthcheck failed. Revision 'handlestripewebhook-00001-mew' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=dollarydoodle-17566&resource=cloud_run_revision/service_name/handlestripewebhook/revision_name/handlestripewebhook-00001-mew&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22handlestripewebhook%22%0Aresource.labels.revision_name%3D%22handlestripewebhook-00001-mew%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"}}
[debug] [2024-07-21T10:32:50.891Z] Got source token undefined for region us-central1
[error] Could not create or update Cloud Run service handlestripewebhook, Container Healthcheck failed. Revision 'handlestripewebhook-00001-mew' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable. Logs for this revision might contain more information.

Logs URL: https://console.cloud.google.com/logs/viewer?project=dollarydoodle-17566&resource=cloud_run_revision/service_name/handlestripewebhook/revision_name/handlestripewebhook-00001-mew&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22handlestripewebhook%22%0Aresource.labels.revision_name%3D%22handlestripewebhook-00001-mew%22 
For more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start
[debug] [2024-07-21T10:32:50.908Z] Total Function Deployment time: 74230
[debug] [2024-07-21T10:32:50.908Z] 2 Functions Deployed
[debug] [2024-07-21T10:32:50.908Z] 2 Functions Errored
[debug] [2024-07-21T10:32:50.908Z] 0 Function Deployments Aborted
[debug] [2024-07-21T10:32:50.908Z] Average Function Deployment time: 66875.5
[info] 
[info] Functions deploy had errors with the following functions:
	handleStripeWebhook(us-central1)
	helloWorld(us-central1)
[debug] [2024-07-21T10:32:50.912Z] Not printing URL for HTTPS function. Typically this means it didn't match a filter or we failed deployment
[debug] [2024-07-21T10:32:50.912Z] Not printing URL for HTTPS function. Typically this means it didn't match a filter or we failed deployment
[info] i  functions: cleaning up build files... 
[debug] [2024-07-21T10:32:50.919Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts/packages/hello_world [none]
[debug] [2024-07-21T10:32:50.920Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts/packages/handle_stripe_webhook [none]
[debug] [2024-07-21T10:32:50.921Z] >>> [apiv2][query] GET https://us.gcr.io/v2/dollarydoodle-17566/gcf/us-central1/tags/list [none]
[debug] [2024-07-21T10:32:51.683Z] <<< [apiv2][status] GET https://us.gcr.io/v2/dollarydoodle-17566/gcf/us-central1/tags/list 404
[debug] [2024-07-21T10:32:51.684Z] <<< [apiv2][body] GET https://us.gcr.io/v2/dollarydoodle-17566/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-07-21T10:32:51.711Z] Failed docker command with error  HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"HTTP Error: 404, Not Found","status":404}
[debug] [2024-07-21T10:32:51.729Z] >>> [apiv2][query] GET https://us.gcr.io/v2/dollarydoodle-17566/gcf/us-central1/tags/list [none]
[debug] [2024-07-21T10:32:52.067Z] <<< [apiv2][status] GET https://us.gcr.io/v2/dollarydoodle-17566/gcf/us-central1/tags/list 404
[debug] [2024-07-21T10:32:52.067Z] <<< [apiv2][body] GET https://us.gcr.io/v2/dollarydoodle-17566/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-07-21T10:32:52.067Z] Failed docker command with error  HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"HTTP Error: 404, Not Found","status":404}
[debug] [2024-07-21T10:32:52.171Z] >>> [apiv2][query] GET https://us.gcr.io/v2/dollarydoodle-17566/gcf/us-central1/tags/list [none]
[debug] [2024-07-21T10:32:52.366Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts/packages/hello_world 200
[debug] [2024-07-21T10:32:52.367Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts/packages/hello_world {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/ed7b6c34-55fe-44bf-80f4-276fb3ea3646","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1beta2.OperationMetadata"}}
[debug] [2024-07-21T10:32:52.368Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1beta2/projects/dollarydoodle-17566/locations/us-central1/operations/ed7b6c34-55fe-44bf-80f4-276fb3ea3646 [none]
[debug] [2024-07-21T10:32:52.430Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts/packages/handle_stripe_webhook 404
[debug] [2024-07-21T10:32:52.430Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts/packages/handle_stripe_webhook {"error":{"code":404,"message":"Package \"projects/dollarydoodle-17566/locations/us-central1/repositories/gcf-artifacts/packages/handle_stripe_webhook\" was not found.","status":"NOT_FOUND"}}
[debug] [2024-07-21T10:32:52.513Z] <<< [apiv2][status] GET https://us.gcr.io/v2/dollarydoodle-17566/gcf/us-central1/tags/list 404
[debug] [2024-07-21T10:32:52.514Z] <<< [apiv2][body] GET https://us.gcr.io/v2/dollarydoodle-17566/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-07-21T10:32:52.514Z] Failed docker command with error  HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"HTTP Error: 404, Not Found","status":404}
[debug] [2024-07-21T10:32:53.713Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1beta2/projects/dollarydoodle-17566/locations/us-central1/operations/ed7b6c34-55fe-44bf-80f4-276fb3ea3646 200
[debug] [2024-07-21T10:32:53.716Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1beta2/projects/dollarydoodle-17566/locations/us-central1/operations/ed7b6c34-55fe-44bf-80f4-276fb3ea3646 {"name":"projects/dollarydoodle-17566/locations/us-central1/operations/ed7b6c34-55fe-44bf-80f4-276fb3ea3646","metadata":{"@type":"type.googleapis.com/google.devtools.artifactregistry.v1beta2.OperationMetadata"},"done":true,"response":{"@type":"type.googleapis.com/google.protobuf.Empty"}}
[warn] ⚠  functions: Unhandled error cleaning up build images. This could result in a small monthly bill if not corrected. You can attempt to delete these images by redeploying or you can delete them manually at https://console.cloud.google.com/gcr/images/dollarydoodle-17566/us/gcf 
[debug] [2024-07-21T10:32:53.747Z] Functions deploy failed.
[debug] [2024-07-21T10:32:53.748Z] {
  "endpoint": {
    "id": "helloWorld",
    "project": "dollarydoodle-17566",
    "region": "us-central1",
    "entryPoint": "helloWorld",
    "platform": "gcfv2",
    "runtime": "nodejs18",
    "httpsTrigger": {},
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "ingressSettings": null,
    "availableMemoryMb": null,
    "serviceAccount": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "concurrency": 80,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}",
      "GCLOUD_PROJECT": "dollarydoodle-17566",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/dollarydoodle-17566/locations/us-central1/services/helloWorld"
    },
    "codebase": "default",
    "securityLevel": "SECURE_ALWAYS",
    "cpu": 1,
    "targetedByOnly": false,
    "hash": "d8e347d25e868de81938aa8a5d7ab0e8b6b34eff"
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Could not create or update Cloud Run service helloworld, Container Healthcheck failed. Revision 'helloworld-00001-meb' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=dollarydoodle-17566&resource=cloud_run_revision/service_name/helloworld/revision_name/helloworld-00001-meb&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22helloworld%22%0Aresource.labels.revision_name%3D%22helloworld-00001-meb%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start",
    "original": {
      "code": 3,
      "message": "Could not create or update Cloud Run service helloworld, Container Healthcheck failed. Revision 'helloworld-00001-meb' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=dollarydoodle-17566&resource=cloud_run_revision/service_name/helloworld/revision_name/helloworld-00001-meb&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22helloworld%22%0Aresource.labels.revision_name%3D%22helloworld-00001-meb%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"
    },
    "status": 3,
    "code": 3
  }
}
[debug] [2024-07-21T10:32:53.748Z] {
  "endpoint": {
    "id": "handleStripeWebhook",
    "project": "dollarydoodle-17566",
    "region": "us-central1",
    "entryPoint": "handleStripeWebhook",
    "platform": "gcfv2",
    "runtime": "nodejs18",
    "httpsTrigger": {},
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "ingressSettings": null,
    "availableMemoryMb": null,
    "serviceAccount": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "concurrency": 80,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"dollarydoodle-17566\",\"storageBucket\":\"dollarydoodle-17566.appspot.com\"}",
      "GCLOUD_PROJECT": "dollarydoodle-17566",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/dollarydoodle-17566/locations/us-central1/services/handleStripeWebhook"
    },
    "codebase": "default",
    "securityLevel": "SECURE_ALWAYS",
    "cpu": 1,
    "targetedByOnly": false,
    "hash": "d8e347d25e868de81938aa8a5d7ab0e8b6b34eff"
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Could not create or update Cloud Run service handlestripewebhook, Container Healthcheck failed. Revision 'handlestripewebhook-00001-mew' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=dollarydoodle-17566&resource=cloud_run_revision/service_name/handlestripewebhook/revision_name/handlestripewebhook-00001-mew&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22handlestripewebhook%22%0Aresource.labels.revision_name%3D%22handlestripewebhook-00001-mew%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start",
    "original": {
      "code": 3,
      "message": "Could not create or update Cloud Run service handlestripewebhook, Container Healthcheck failed. Revision 'handlestripewebhook-00001-mew' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=dollarydoodle-17566&resource=cloud_run_revision/service_name/handlestripewebhook/revision_name/handlestripewebhook-00001-mew&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22handlestripewebhook%22%0Aresource.labels.revision_name%3D%22handlestripewebhook-00001-mew%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"
    },
    "status": 3,
    "code": 3
  }
}
[error] Error: There was an error deploying functions:
[error] - Error Failed to update function helloWorld in region us-central1
[error] - Error Failed to update function handleStripeWebhook in region us-central1
